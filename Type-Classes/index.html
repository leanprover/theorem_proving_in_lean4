<!DOCTYPE html>
<html>
  <head>
    <script>
      (function(){
  const {protocol:proto, host:hostName, pathname:path, search:srch, hash:hsh} = window.location;
  if (!(path.endsWith("/") || path.endsWith(".html"))) {
    window.location.replace(`${proto}//${hostName}${path}/${srch}${hsh}`);
  }
})()</script>
    <base href="./../"><meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>Type Classes</title><link rel="stylesheet" href="book.css">
    <script>
      const __versoSiteRoot = document.baseURI;</script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="-verso-data/katex/katex.js"></script>
    <script src="-verso-data/katex/math.js"></script>
    <script src="-verso-data/popper.js"></script>
    <script src="-verso-data/tippy.js"></script>
    <script src="-verso-data/copybutton.js"></script>
    <link rel="stylesheet" href="static/theme.css">
    <link rel="stylesheet" href="static/fonts/source-serif/source-serif-text.css">
    <link rel="stylesheet" href="static/fonts/source-code-pro/source-code-pro.css">
    <link rel="stylesheet" href="static/fonts/source-sans/source-sans-3.css">
    <link rel="stylesheet" href="static/fonts/noto-sans-mono/noto-sans-mono.css">
    <link rel="stylesheet" href="-verso-data/katex/katex.css">
    <link rel="stylesheet" href="-verso-data/tippy-border.css">
    <link rel="stylesheet" href="-verso-data/copybutton.css">
    <link rel="stylesheet" href="-verso-data/examples.css">
    <link rel="stylesheet" href="-verso-data/proof-state.css">
    <style>
table.tabular {
  margin: auto;
  border-spacing: 1rem;
}
table.tabular.left-align {
  margin-right: auto;
  margin-left: 0;
}
table.tabular.center-align {
  margin: auto;
}
table.tabular.right-align {
  margin-left auto;
  margin-right: 0;
}
table.tabular td, table.tabular th {
  text-align: left;
  vertical-align: top;
}
table.tabular td > p:first-child, table.tabular th > p:first-child {
  margin-top: 0;
}
table.tabular td > p:last-child, table.tabular th > p:first-child {
  margin-bottom: 0;
}
</style><style>
code.unicode-abbrev {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #ccc;
  white-space: nowrap;
}

kbd {
  white-space: nowrap;
}

kbd > code {
  background-color: #eee;
  border-radius: 3px;
  border: 1px solid #b4b4b4;
  box-shadow:
    0 1px 1px rgba(0, 0, 0, 0.2),
    0 2px 0 0 rgba(255, 255, 255, 0.7) inset;
  color: #333;
  display: inline-block;
  font-size: 0.85em;
  font-weight: 700;
  line-height: 1;
  padding: 2px 4px;
  white-space: nowrap;
  vertical-align: middle;
}
</style><style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
}

.hl.lean .keyword {
  font-weight : bold;
}

.hl.lean .var {
  font-style: italic;
  position: relative;
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}

.hl.lean a:hover {
  text-decoration: currentcolor underline solid;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 300;
  font-size: inherit;
}

.hl.lean .hover-info.messages {
  max-height: 10rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5rem 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5rem;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1rem;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0rem;
}

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
  white-space: pre-wrap;
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover, .hl.lean .token.typed:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info .token:not(.tactic-state):not(.tactic-state *), .hl.lean .has-info .inter-text:not(.tactic-state):not(.tactic-state *) {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: from-font;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error :not(.tactic-state):not(.tactic-state *){
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error pre {
    color: red;
}

.hl.lean .has-info.warning :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: var(--verso-warning-color);
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color:var(--verso-warning-color);
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: var(--verso-warning-color);
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid var(--verso-warning-color);
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.info :not(.tactic-state):not(.tactic-state *) {
  text-decoration-color: blue;
}

@media (hover: hover) {
  .hl.lean .has-info.info:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.info {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.info {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: sans-serif;
  white-space: normal;
  max-width: 40rem;
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean div.docstring > :first-child {
  margin-top: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: monospace;
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1rem;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
  display: inline-grid;
  grid-template-columns: 1fr;
  vertical-align: top;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: inline-block;
  vertical-align: top;
  grid-row: 2;
  justify-self: start;
}

.hl.lean .tactic > label {
  position: relative;
  grid-row: 1;
}

@media (hover: hover) {
  .hl.lean .tactic:has(.tactic-toggle:not(:checked)) > label:hover {
    background-color: #eeeeee;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  border-radius: 1rem;
  height: 0.25rem;
  vertical-align: middle;
  width: 0.6rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5rem;
}

.hl.lean .tactic-state summary {
  margin-left: -0.5rem;
}

.hl.lean .tactic-state details {
  padding-left: 0.5rem;
}

.hl.lean .case-label {
  display: block;
  position: relative;
}

.hl.lean .case-label input[type="checkbox"] {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .case-label:has(input[type="checkbox"])::before {
  width: 1rem;
  height: 1rem;
  display: inline-block;
  background-color: black;
  content: ' ';
  transition: ease 0.2s;
  margin-right: 0.7rem;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
  width: 0.6rem;
  height: 0.6rem;
}

.hl.lean .case-label:has(input[type="checkbox"]:not(:checked))::before {
  transform: rotate(-90deg);
}

.hl.lean .case-label:has(input[type="checkbox"]) {

}

.hl.lean .case-label:has(input[type="checkbox"]:checked) {

}


.hl.lean .tactic-state .labeled-case > :not(:first-child) {
  max-height: 0px;
  display: block;
  overflow: hidden;
  transition: max-height 0.1s ease-in;
  margin-left: 0.5rem;
  margin-top: 0.1rem;
}

.hl.lean .labeled-case:has(.case-label input[type="checkbox"]:checked) > :not(:first-child) {
  max-height: 100%;
}


.hl.lean .tactic-state .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .tactic-state .goal-name {
  font-style: italic;
  font-family: monospace;
}

.hl.lean .tactic-state .hypotheses {
  display: table;
}

.hl.lean .tactic-state .hypothesis {
  display: table-row;
}

.hl.lean .tactic-state .hypothesis > * {
  display: table-cell;
}


.hl.lean .tactic-state .hypotheses .colon {
  text-align: center;
  min-width: 1rem;
}

.hl.lean .tactic-state .hypotheses .name {
  text-align: right;
}

.hl.lean .tactic-state .hypotheses .name,
.hl.lean .tactic-state .hypotheses .type,
.hl.lean .tactic-state .conclusion .type {
  font-family: monospace;
}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid var(--verso-warning-color);
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}

.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

.extra-doc-links {
  list-style-type: none;
  margin-left: 0;
  padding: 0;
}

.extra-doc-links > li {
  display: inline-block;
}

.extra-doc-links > li:not(:last-child)::after {
  content: '|';
  display: inline-block;
  margin: 0 0.25em;
}
</style><style>
a.technical-term {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.technical-term:hover {
  text-decoration: currentcolor underline solid;
}

</style><script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    let siteRoot = typeof __versoSiteRoot !== 'undefined' ? __versoSiteRoot : "/";
    let docsJson = siteRoot + "-verso-docs.json";
    fetch(docsJson).then((resp) => resp.json()).then((versoDocData) => {

      function hideParentTooltips(element) {
        let parent = element.parentElement;
        while (parent) {
          const tippyInstance = parent._tippy;
          if (tippyInstance) {
            tippyInstance.hide();
          }
          parent = parent.parentElement;
        }
      }



      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        /* theme: "lean", */
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        /* ignoreAttributes: true, */
        followCursor: 'initial',
        onShow(inst) {
          if (inst.reference.className == 'tactic') {

            const toggle = inst.reference.querySelector("input.tactic-toggle");
            if (toggle && toggle.checked) {
              return false;
            }
            hideParentTooltips(inst.reference);
            //if (blockedByTippy(inst.reference)) { return false; }

          } else if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          if (tgt.className == 'tactic') {
            const state = tgt.querySelector(".tactic-state").cloneNode(true);
            state.style.display = "block";
            content.appendChild(state);
            content.style.display = "block";
            content.className = "hl lean popup";
          } else {
            content.className = "hl lean";
            content.style.display = "block";
            content.style.maxHeight = "300px";
            content.style.overflowY = "auto";
            content.style.overflowX = "hidden";
            const hoverId = tgt.dataset.versoHover;
            const hoverInfo = tgt.querySelector(".hover-info");
            if (hoverId) { // Docstrings from the table
              // TODO stop doing an implicit conversion from string to number here
              let data = versoDocData[hoverId];
              if (data) {
                const info = document.createElement("span");
                info.className = "hover-info";
                info.style.display = "block";
                info.innerHTML = data;
                content.appendChild(info);
                /* Render docstrings - TODO server-side */
                if ('undefined' !== typeof marked) {
                    for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                        const str = d.innerText;
                        const html = marked.parse(str);
                        const rendered = document.createElement("div");
                        rendered.classList.add("docstring");
                        rendered.innerHTML = html;
                        d.parentNode.replaceChild(rendered, d);
                    }
                }
              } else {
                content.innerHTML = "Failed to load doc ID: " + hoverId;
              }
            } else if (hoverInfo) { // The inline info, still used for compiler messages
              content.appendChild(hoverInfo.cloneNode(true));
            }
            const extraLinks = tgt.parentElement.dataset['versoLinks'];
            if (extraLinks) {
              try {
                const extras = JSON.parse(extraLinks);
                const links = document.createElement('ul');
                links.className = 'extra-doc-links';
                extras.forEach((l) => {
                  const li = document.createElement('li');
                  li.innerHTML = "<a href=\"" + l['href'] + "\" title=\"" + l.long + "\">" + l.short + "</a>";
                  links.appendChild(li);
                });
                content.appendChild(links);
              } catch (error) {
                console.error(error);
              }
            }
          }
          return content;
        }
      };


      document.querySelectorAll('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .level-var, .hl.lean .level-const, .hl.lean .level-op, .hl.lean .sort').forEach(element => {
        element.setAttribute('data-tippy-theme', 'lean');
      });
      document.querySelectorAll('.hl.lean .has-info.warning').forEach(element => {
        element.setAttribute('data-tippy-theme', 'warning message');
      });
      document.querySelectorAll('.hl.lean .has-info.info').forEach(element => {
        element.setAttribute('data-tippy-theme', 'info message');
      });
      document.querySelectorAll('.hl.lean .has-info.error').forEach(element => {
        element.setAttribute('data-tippy-theme', 'error message');
      });
      document.querySelectorAll('.hl.lean .tactic').forEach(element => {
        element.setAttribute('data-tippy-theme', 'tactic');
      });
      let insts = tippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token, .hl.lean .has-info, .hl.lean .tactic, .hl.lean .level-var, .hl.lean .level-const, .hl.lean .level-op, .hl.lean .sort', defaultTippyProps);
  });
}
</script>
    </head>
  <body>
    <header>
      <div class="header-logo-wrapper">
        <a href="" id="logo"><img src="static/lean_logo.svg"></a></div>
      <div class="header-title-wrapper">
        <a href="" class="header-title"><h1>
            Theorem Proving in Lean 4</h1>
          </a></div>
      </header>
    <label for="toggle-toc" id="toggle-toc-click"><span class="line line1"></span><span class="line line2"></span><span class="line line3"></span></label><div class="with-toc">
      <div class="toc-backdrop" onclick="document.getElementById('toggle-toc-click')?.click()"></div>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc"><div class="first">
          <a href="" class="toc-title"><h1>
              Theorem Proving in Lean 4</h1>
            </a><div class="split-tocs">
            <div class="split-toc book">
              <div class="title">
                <label for="--verso-manual-toc-----bookRoot" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-----bookRoot" checked="checked"></label><span class="">Table of Contents</span></div>
              <table><tr class="numbered"><td class="num">1.</td><td><a href="Introduction/#Intro">Introduction</a></td></tr><tr class="numbered"><td class="num">2.</td><td><a href="Dependent-Type-Theory/#dependent-type-theory">Dependent Type Theory</a></td></tr><tr class="numbered"><td class="num">3.</td><td><a href="Propositions-and-Proofs/#propositions-and-proofs">Propositions and Proofs</a></td></tr><tr class="numbered"><td class="num">4.</td><td><a href="Quantifiers-and-Equality/#quantifiers-and-equality">Quantifiers and Equality</a></td></tr><tr class="numbered"><td class="num">5.</td><td><a href="Tactics/#Theorem-Proving-in-Lean-4--Tactics">Tactics</a></td></tr><tr class="numbered"><td class="num">6.</td><td><a href="Interacting-with-Lean/#Theorem-Proving-in-Lean-4--Interacting-with-Lean">Interacting with Lean</a></td></tr><tr class="numbered"><td class="num">7.</td><td><a href="Inductive-Types/#inductive-types">Inductive Types</a></td></tr><tr class="numbered"><td class="num">8.</td><td><a href="Induction-and-Recursion/#induction-and-recursion">Induction and Recursion</a></td></tr><tr class="numbered"><td class="num">9.</td><td><a href="Structures-and-Records/#structures-and-records">Structures and Records</a></td></tr><tr class="current numbered"><td class="num">10.</td><td><a href="Type-Classes/#type-classes">Type Classes</a></td></tr><tr class="numbered"><td class="num">11.</td><td><a href="The-Conversion-Tactic-Mode/#conv">The Conversion Tactic Mode</a></td></tr><tr class="numbered"><td class="num">12.</td><td><a href="Axioms-and-Computation/#axioms-and-computation">Axioms and Computation</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-type-classes" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-type-classes" checked="checked"></label><span class="number">10.</span> <span class="current"><a href="Type-Classes/#type-classes">Type Classes</a></span></div>
              <table><tr class="numbered"><td class="num">10.1.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Chaining-Instances">Chaining Instances</a></td></tr><tr class="numbered"><td class="num">10.2.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--ToString">ToString</a></td></tr><tr class="numbered"><td class="num">10.3.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Numerals">Numerals</a></td></tr><tr class="numbered"><td class="num">10.4.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Output-Parameters">Output Parameters</a></td></tr><tr class="numbered"><td class="num">10.5.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Default-Instances">Default Instances</a></td></tr><tr class="numbered"><td class="num">10.6.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Local-Instances">Local Instances</a></td></tr><tr class="numbered"><td class="num">10.7.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Scoped-Instances">Scoped Instances</a></td></tr><tr class="numbered"><td class="num">10.8.</td><td><a href="Type-Classes/#decidable-propositions">Decidable Propositions</a></td></tr><tr class="numbered"><td class="num">10.9.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Managing-Type-Class-Inference">Managing Type Class Inference</a></td></tr><tr class="numbered"><td class="num">10.10.</td><td><a href="Type-Classes/#Theorem-Proving-in-Lean-4--Type-Classes--Coercions-using-Type-Classes">Coercions using Type Classes</a></td></tr></table></div>
            </div>
          </div>
        <div class="last">
          <ul id="meta-links">
            <li>
              <a href="https://github.com/leanprover/theorem_proving_in_lean4">Source Code</a></li>
            <li>
              <a href="https://github.com/leanprover/theorem_proving_in_lean4/issues">Report Issues</a></li>
            </ul>
          </div>
        </nav>
      <main><div class="content-wrapper">
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Structures-and-Records/#structures-and-records" rel="prev" title="9. Structures and Records"><span class="arrow">←</span><span class="where">9. Structures and Records</span></a><a class="local-button active" href="The-Conversion-Tactic-Mode/#conv" rel="next" title="11. The Conversion Tactic Mode"><span class="where">11. The Conversion Tactic Mode</span><span class="arrow">→</span></a></nav>
          <section>
            <h1>
              10. Type Classes<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&amp;name=type-classes" title="Permalink">🔗</a></span></h1>
            <p>
              Type classes were introduced as a principled way of enabling
ad-hoc polymorphism in functional programming languages. We first observe that it
would be easy to implement an ad-hoc polymorphic function (such as addition) if the
function simply took the type-specific implementation of addition as an argument
and then called that implementation on the remaining arguments. For example,
suppose we declare a structure in Lean to hold implementations of addition.</p>
            <div class="example" id="--verso-unique-2361">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-20">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-46">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1078">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@Add.add : {α : Type} → Add α → α → α → α</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-78">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">Add.add</span></code><div class="information">
                <pre>@Add.add : {α : Type} → Add α → α → α → α</pre></div>
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-159" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2361", "namespace Ex\nnamespace Ex\nstructure Add (α : Type) where\n  add : α → α → α\n\n#check @Add.addend Ex\n");
addToggleButtonToElement("--verso-unique-2361");</script>
            <p>
              In the above Lean code, the field <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1078">add</span></code> has type
<code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1078">Add.add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span></code>
where the curly braces around the type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span></code> mean that it is an implicit argument.
We could implement <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span></code> by:</p>
            <div class="example" id="--verso-unique-2362">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-13">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-39">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1078">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-77">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.332" data-verso-hover="1080">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.330" data-verso-hover="19">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.334" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.330" data-verso-hover="19">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.330" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.332" data-verso-hover="1080">s</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1078">add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.334" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">x</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">20</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-131" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1081">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___add" title="Documentation for Nat.add in Lean Language Reference"><span class="const token" data-binding="const-Nat.add" data-verso-hover="22">Nat.add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">10</span></code><div class="information">
                <pre>20</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">100</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-173" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1081">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___mul" title="Documentation for Nat.mul in Lean Language Reference"><span class="const token" data-binding="const-Nat.mul" data-verso-hover="489">Nat.mul</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">10</span></code><div class="information">
                <pre>100</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">20</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-216" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1082">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___add" title="Documentation for Int.add in Lean Language Reference"><span class="const token" data-binding="const-Int.add" data-verso-hover="1083">Int.add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="134">10</span></code><div class="information">
                <pre>20</pre></div>
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-264" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2362", "namespace Ex\nstructure Add (α : Type) where\n  add : α → α → α\nnamespace Ex\nstructure Add (α : Type) where\n  add : α → α → α\ndef double (s : Add α) (x : α) : α :=\n  s.add x x\n\n#eval double { add := Nat.add } 10#eval double { add := Nat.mul } 10#eval double { add := Int.add } 10end Ex\n");
addToggleButtonToElement("--verso-unique-2362");</script>
            <p>
              Note that you can double a natural number <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.383" data-verso-hover="11">n</span></code> by <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1081">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___add" title="Documentation for Nat.add in Lean Language Reference"><span class="const token" data-binding="const-Nat.add" data-verso-hover="22">Nat.add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.385" data-verso-hover="11">n</span></code>.
Of course, it would be highly cumbersome for users to manually pass the
implementations around in this way.
Indeed, it would defeat most of the potential benefits of ad-hoc
polymorphism.</p>
            <p>
              The main idea behind type classes is to make arguments such as <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span></code> implicit,
and to use a database of user-defined instances to synthesize the desired instances
automatically through a process known as typeclass resolution. In Lean, by changing
<code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">structure</span></code> to <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">class</span></code> in the example above, the type of <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">Add.add</span></code> becomes:</p>
            <div class="example" id="--verso-unique-2363">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-42">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1084">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@Add.add : {α : Type} → [self : Add α] → α → α → α</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-74">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">Add.add</span></code><div class="information">
                <pre>@Add.add : {α : Type} → [self : Add α] → α → α → α</pre></div>
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-164" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2363", "namespace Ex\nnamespace Ex\nclass Add (α : Type) where\n  add : α → α → α\n\n#check @Add.addend Ex\n");
addToggleButtonToElement("--verso-unique-2363");</script>
            <p>
              where the square brackets indicate that the argument of type <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span></code> is <em>instance implicit</em>,
i.e. that it should be synthesized using typeclass resolution. This version of
<code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1084">add</span></code> is the Lean analogue of the Haskell term <code>add :: Add a =&gt; a -&gt; a -&gt; a</code>.
Similarly, we can register instances by:</p>
            <div class="example" id="--verso-unique-2364">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-13">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-35">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1084">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-73">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-92">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1081">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___add" title="Documentation for Nat.add in Lean Language Reference"><span class="const token" data-binding="const-Nat.add" data-verso-hover="22">Nat.add</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-116">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-135">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1082">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___add" title="Documentation for Int.add in Lean Language Reference"><span class="const token" data-binding="const-Int.add" data-verso-hover="1083">Int.add</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-159">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Floating-Point-Numbers/#Float-next" title="Documentation for Float in Lean Language Reference"><span class="const token" data-binding="const-Float" data-verso-hover="1085">Float</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-180">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1086">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Floating-Point-Numbers/#Float___add" title="Documentation for Float.add in Lean Language Reference"><span class="const token" data-binding="const-Float.add" data-verso-hover="1087">Float.add</span></a><span class="inter-text">
</span></code><div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-212" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2364", "namespace Ex\nclass Add (α : Type) where\n  add : α → α → α\nnamespace Ex\nclass Add (α : Type) where\n  add : α → α → α\ninstance : Add Nat where\n  add := Nat.add\n\ninstance : Add Int where\n  add := Int.add\n\ninstance : Add Float where\n  add := Float.add\nend Ex\n");
addToggleButtonToElement("--verso-unique-2364");</script>
            <p>
              Then for <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.159" data-verso-hover="11">n</span><span class="inter-text"> : </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.170" data-verso-hover="11">m</span><span class="inter-text"> : </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code>, the term <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1084">Add.add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.177" data-verso-hover="11">n</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.179" data-verso-hover="11">m</span></code> triggers typeclass resolution with
the goal of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code>, and typeclass resolution will synthesize the instance for <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code> above.
We can now reimplement <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.double" data-verso-hover="1079">double</span></code> using an instance implicit by:</p>
            <div class="example" id="--verso-unique-2365">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-13">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-35">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1084">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="19">α</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-66">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-85">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1081">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___add" title="Documentation for Nat.add in Lean Language Reference"><span class="const token" data-binding="const-Nat.add" data-verso-hover="22">Nat.add</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-107">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-126">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1082">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___add" title="Documentation for Int.add in Lean Language Reference"><span class="const token" data-binding="const-Int.add" data-verso-hover="1083">Int.add</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-148">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Floating-Point-Numbers/#Float-next" title="Documentation for Float in Lean Language Reference"><span class="const token" data-binding="const-Float" data-verso-hover="1085">Float</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-169">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1086">add</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Floating-Point-Numbers/#Float___add" title="Documentation for Float.add in Lean Language Reference"><span class="const token" data-binding="const-Float.add" data-verso-hover="1087">Float.add</span></a><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-200">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1088">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Ex.Add" data-verso-hover="1077">Add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.157" data-verso-hover="19">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.161" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.157" data-verso-hover="19">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.157" data-verso-hover="19">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Add.add" data-verso-hover="1084">Add.add</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.161" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.161" data-verso-hover="24">x</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@double : {α : Type} → [Add α] → α → α</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-252">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">double</span></code><div class="information">
                <pre>@double : {α : Type} → [Add α] → α → α</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">20</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-320" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1088">double</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">10</span></code><div class="information">
                <pre>20</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">20</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-343" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1088">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="134">10</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>20</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">14.000000</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-374" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1088">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1089">7</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Floating-Point-Numbers/#Float-next" title="Documentation for Float in Lean Language Reference"><span class="const token" data-binding="const-Float" data-verso-hover="1085">Float</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>14.000000</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">482.000000</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-413" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.double" data-verso-hover="1088">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">239.0</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="1089">2</span><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>482.000000</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-460" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2365", "namespace Ex\nclass Add (α : Type) where\n  add : α → α → α\ninstance : Add Nat where\n add := Nat.add\ninstance : Add Int where\n add := Int.add\ninstance : Add Float where\n add := Float.add\nnamespace Ex\nclass Add (α : Type) where\n  add : α → α → α\ninstance : Add Nat where\n add := Nat.add\ninstance : Add Int where\n add := Int.add\ninstance : Add Float where\n add := Float.add\ndef double [Add α] (x : α) : α :=\n  Add.add x x\n\n#check @double#eval double 10#eval double (10 : Int)#eval double (7 : Float)#eval double (239.0 + 2)end Ex\n");
addToggleButtonToElement("--verso-unique-2365");</script>
            <p>
              In general, instances may depend on other instances in complicated ways. For example,
you can declare an instance stating that if <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.360" data-verso-hover="19">α</span></code> has addition, then <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="381">α</span></code>
has addition:</p>
            <div class="example" id="--verso-unique-2366">
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-0">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-35">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add.add in Lean Language Reference"><span class="const token" data-binding="const-Add.add" data-verso-hover="1090">add</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="913">x</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29" data-verso-hover="913">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___zipWith" title="Documentation for Array.zipWith in Lean Language Reference"><span class="const token" data-binding="const-Array.zipWith" data-verso-hover="1091">Array.zipWith</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">·</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">·</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="913">x</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.29" data-verso-hover="913">y</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">#[4, 6]</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-83" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add.add in Lean Language Reference"><span class="const token" data-binding="const-Add.add" data-verso-hover="1092">Add.add</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                <pre>#[4, 6]</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">#[4, 6]</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-125" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                <pre>#[4, 6]</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
            <script>
              addCopyButtonToElement("--verso-unique-2366", "instance [Add α] : Add (Array α) where\n  add x y := Array.zipWith (· + ·) x y\n\n#eval Add.add #[1, 2] #[3, 4]#eval #[1, 2] + #[3, 4]");</script>
            <p>
              Note that <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">·</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">·</span><span class="unknown token" data-binding="">)</span></code> is notation for <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-2">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="1093">x</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1094">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="1093">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1094">y</span></code> in Lean.</p>
            <p>
              The example above demonstrates how type classes are used to overload notation.
Now, we explore another application. We often need an arbitrary element of a given type.
Recall that types may not have any elements in Lean.
It often happens that we would like a definition to return an arbitrary element in a “corner case.”
For example, we may like the expression <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-head" data-verso-hover="1095">head</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="107">xs</span></code> to be of type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.110" data-verso-hover="42">α</span></code> when <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.125" data-verso-hover="107">xs</span></code> is of type <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.130" data-verso-hover="42">α</span></code>.
Similarly, many theorems hold under the additional assumption that a type is not empty.
For example, if <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.141" data-verso-hover="42">α</span></code> is a type, <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">∃</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.163" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.151" data-verso-hover="42">α</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.163" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.163" data-verso-hover="24">x</span></code> is true only if <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.172" data-verso-hover="42">α</span></code> is not empty.
The standard library defines a type class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a></code> to enable type class inference to infer a
“default” element of an inhabited type.
Let us start with the first step of the program above, declaring an appropriate class:</p>
            <div class="example" id="--verso-unique-2367">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-50">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1097">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@Inhabited.default : {α : Type u_1} → [self : Inhabited α] → α</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-72">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">Inhabited.default</span></code><div class="information">
                <pre>@Inhabited.default : {α : Type u_1} → [self : Inhabited α] → α</pre></div>
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-178" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2367", "namespace Ex\nnamespace Ex\nclass Inhabited (α : Type u) where\n  default : α\n\n#check @Inhabited.defaultend Ex\n");
addToggleButtonToElement("--verso-unique-2367");</script>
            <p>
              Note <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">Inhabited.default</span></code> doesn't have any explicit arguments.</p>
            <p>
              An element of the class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.194" data-verso-hover="42">α</span></code> is simply an expression of the form <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.mk in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.mk" data-verso-hover="1098">Inhabited.mk</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.207" data-verso-hover="24">x</span></code>, for some element <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.219" data-verso-hover="24">x</span><span class="inter-text"> : </span><span class="var token" data-binding="var-_uniq.228" data-verso-hover="42">α</span></code>.
The projection <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">Inhabited.default</span></a></code> will allow us to “extract” such an element of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.447" data-verso-hover="42">α</span></code> from an element of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.457" data-verso-hover="42">α</span></code>.
Now we populate the class with some instances:</p>
            <div class="example" id="--verso-unique-2368">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-13">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="381">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-[anonymous]" data-verso-hover="1100">_</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-42">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="381">a</span><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-68">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-94">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1057">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-119">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-144">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1051">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-166">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/The-Unit-Type/#Unit" title="Documentation for Unit in Lean Language Reference"><span class="const token" data-binding="const-Unit" data-verso-hover="675">Unit</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-192">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1102">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-215">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-241">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1103">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#True___intro" title="Documentation for True in Lean Language Reference"><span class="const token" data-binding="const-True" data-verso-hover="39">True</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">0</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-266" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">Inhabited.default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>0</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">true</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-304" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">Inhabited.default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>true</pre></div>
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-354" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2368", "namespace Ex\nclass Inhabited (a : Type _) where\n default : a\nnamespace Ex\nclass Inhabited (a : Type _) where\n default : a\ninstance : Inhabited Bool where\n  default := true\n\ninstance : Inhabited Nat where\n  default := 0\n\ninstance : Inhabited Unit where\n  default := ()\n\ninstance : Inhabited Prop where\n  default := True\n\n#eval (Inhabited.default : Nat)#eval (Inhabited.default : Bool)end Ex\n");
addToggleButtonToElement("--verso-unique-2368");</script>
            <p>
              You can use the command <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">export</span></code> to create the alias <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a></code> for <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">Inhabited.default</span></a></code>.</p>
            <div class="example" id="--verso-unique-2369">
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-13">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="381">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-[anonymous]" data-verso-hover="1100">_</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-42">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="381">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-61">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-87">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1057">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-110">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-135">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1051">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-155">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/The-Unit-Type/#Unit" title="Documentation for Unit in Lean Language Reference"><span class="const token" data-binding="const-Unit" data-verso-hover="675">Unit</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-181">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1102">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-202">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1099">Inhabited</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-228">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1103">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#True___intro" title="Documentation for True in Lean Language Reference"><span class="const token" data-binding="const-True" data-verso-hover="39">True</span></a><span class="inter-text">
</span></code></div>
              <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___export" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-258" data-verso-hover="490">export</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Inhabited</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">default</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">0</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-286" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>0</pre></div>
              <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">true</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-314" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1101">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                <pre>true</pre></div>
              <div class="hidden">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-352" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
              </div>
            <script>
              addCopyButtonToElement("--verso-unique-2369", "namespace Ex\nclass Inhabited (a : Type _) where\n default : a\ninstance : Inhabited Bool where\n default := true\ninstance : Inhabited Nat where\n default := 0\ninstance : Inhabited Unit where\n default := ()\ninstance : Inhabited Prop where\n default := True\nnamespace Ex\nclass Inhabited (a : Type _) where\n default : a\ninstance : Inhabited Bool where\n default := true\ninstance : Inhabited Nat where\n default := 0\ninstance : Inhabited Unit where\n default := ()\ninstance : Inhabited Prop where\n default := True\nexport Inhabited (default)\n\n#eval (default : Nat)#eval (default : Bool)end Ex\n");
addToggleButtonToElement("--verso-unique-2369");</script>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Chaining-Instances">
                10.1. Chaining Instances</h2>
              <p>
                If that were the extent of type class inference, it would not be all that impressive;
it would be simply a mechanism of storing a list of instances for the elaborator to find in a lookup table.
What makes type class inference powerful is that one can <em>chain</em> instances. That is,
an instance declaration can in turn depend on an implicit instance of a type class.
This causes class inference to chain through instances recursively, backtracking when necessary, in a Prolog-like search.</p>
              <p>
                For example, the following definition shows that if two types <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.13" data-verso-hover="382">β</span></code> are inhabited, then so is their product:</p>
              <div class="example" id="--verso-unique-2370">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-0">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="382">β</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="382">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-62">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="1104">default</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2370", "instance [Inhabited α] [Inhabited β] : Inhabited (α × β) where\n  default := (default, default)\n");</script>
              <p>
                With this added to the earlier instance declarations, type class instance can infer, for example, a default element of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a></code>:</p>
              <div class="example" id="--verso-unique-2371">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-13">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-43">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1097">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-63">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-89">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1057">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-112">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-137">where</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1051">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.opaque-157">opaque</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.default" data-verso-hover="1105">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.111" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.111" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
 </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1097">Inhabited.default</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-221">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.138" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.146" data-verso-hover="382">β</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Inhabited" data-verso-hover="1096">Inhabited</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.138" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.146" data-verso-hover="382">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-283">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Inhabited.default" data-verso-hover="1106">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.default" data-verso-hover="1105">default</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.default" data-verso-hover="1105">default</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">(0, true)</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-322" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.default" data-verso-hover="1105">default</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>(0, true)</pre></div>
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-372" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2371", "namespace Ex\nclass Inhabited (α : Type u) where\n default : α\ninstance : Inhabited Bool where\n default := true\ninstance : Inhabited Nat where\n default := 0\nopaque default [Inhabited α] : α :=\n Inhabited.default\nnamespace Ex\nclass Inhabited (α : Type u) where\n default : α\ninstance : Inhabited Bool where\n default := true\ninstance : Inhabited Nat where\n default := 0\nopaque default [Inhabited α] : α :=\n Inhabited.default\ninstance [Inhabited α] [Inhabited β] : Inhabited (α × β) where\n  default := (default, default)\n\n#eval (default : Nat × Bool)end Ex\n");
addToggleButtonToElement("--verso-unique-2371");</script>
              <p>
                Similarly, we can inhabit type function with suitable constant functions:</p>
              <div class="example" id="--verso-unique-2372">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-0">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="349">β</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="522">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="349">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-48">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="1107">default</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-67">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2372", "instance [Inhabited β] : Inhabited (α → β) where\n  default := fun _ => default\n");</script>
              <p>
                As an exercise, try defining default instances for other types, such as <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Sum-Types/#Sum___inl" title="Documentation for Sum in Lean Language Reference"><span class="const token" data-binding="const-Sum" data-verso-hover="387">Sum</span></a></code> types.</p>
              <p>
                The Lean standard library contains the definition <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a></code>. It has type <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-112978979043057490" data-verso-hover="38">Sort</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="24">i</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span></code>,
and is useful for triggering the type class resolution procedure when the expected type is an instance.</p>
              <div class="example" id="--verso-unique-2373">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">inferInstance : Inhabited Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-0">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>inferInstance : Inhabited Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-73">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-foo" data-verso-hover="1109">foo</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-126">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-ex" data-verso-hover="1110">ex</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-foo" data-verso-hover="1109">foo</span><span class="unknown token" data-binding="">.</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited.default in Lean Language Reference"><span class="const token" data-binding="const-Inhabited.default" data-verso-hover="862">default</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">rfl</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2373", "#check (inferInstance : Inhabited Nat)def foo : Inhabited (Nat × Nat) :=\n  inferInstance\n\ntheorem ex : foo.default = (default, default) :=\n  rfl\n");</script>
              <p>
                You can use the command <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.print-0">#print</span></code> to inspect how simple <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">inferInstance</span></code> is.</p>
              <div class="example" id="--verso-unique-2374">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@[reducible] def inferInstance.{u} : {α : Sort u} → [i : α] → α :=
fun {α} [i : α] =&gt; i</code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.print-0">#print</span></span><span class="inter-text"> </span><span class="unknown token" data-binding="">inferInstance</span></code><div class="information">
                  <pre>@[reducible] def inferInstance.{u} : {α : Sort u} → [i : α] → α :=
fun {α} [i : α] =&gt; i</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2374", "#print inferInstance");</script>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--ToString">
                10.2. ToString</h2>
              <p>
                The polymorphic method <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-ToString.toString" data-verso-hover="1111">toString</span></code> has type <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-ToString" data-verso-hover="1112">ToString</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Strings/#String___mk" title="Documentation for String in Lean Language Reference"><span class="const token" data-binding="const-String" data-verso-hover="59">String</span></a></code>. You implement the instance
for your own types and use chaining to convert complex values into strings. Lean comes with <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-ToString" data-verso-hover="1112">ToString</span></code> instances
for most builtin types.</p>
              <div class="example" id="--verso-unique-2375">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person" data-verso-hover="1113">Person</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-17">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Person.name" data-verso-hover="1114">name</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Strings/#String___mk" title="Documentation for String in Lean Language Reference"><span class="const token" data-binding="const-String" data-verso-hover="59">String</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Person.age" data-verso-hover="1115">age</span><span class="inter-text">  </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-53">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-ToString" data-verso-hover="1112">ToString</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person" data-verso-hover="1113">Person</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-80">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-ToString.toString" data-verso-hover="1111">toString</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.416" data-verso-hover="1116">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.416" data-verso-hover="1116">p</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Person.name" data-verso-hover="1114">name</span><span class="inter-text"> </span><span class="unknown token" data-binding="">++</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1117">"@"</span><span class="inter-text"> </span><span class="unknown token" data-binding="">++</span><span class="inter-text"> </span><span class="const token" data-binding="const-ToString.toString" data-verso-hover="60">toString</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.416" data-verso-hover="1116">p</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Person.age" data-verso-hover="1115">age</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">"Leo@542"</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-135" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-ToString.toString" data-verso-hover="60">toString</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person.name" data-verso-hover="1118">name</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1119">"Leo"</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person.age" data-verso-hover="1051">age</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">542</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person" data-verso-hover="1113">Person</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span></code><div class="information">
                  <pre>"Leo@542"</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">"(Daniel@18, hello)"</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-203" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-ToString.toString" data-verso-hover="60">toString</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person.name" data-verso-hover="1118">name</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1120">"Daniel"</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person.age" data-verso-hover="1051">age</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">18</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Person" data-verso-hover="1113">Person</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="131">"hello"</span><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>"(Daniel@18, hello)"</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2375", "structure Person where\n  name : String\n  age  : Nat\n\ninstance : ToString Person where\n  toString p := p.name ++ \"@\" ++ toString p.age\n\n#eval toString { name := \"Leo\", age := 542 : Person }#eval toString ({ name := \"Daniel\", age := 18 : Person }, \"hello\")");</script>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Numerals">
                10.3. Numerals</h2>
              <p>
                Numerals are polymorphic in Lean. You can use a numeral (e.g., <code>2</code>) to denote an element of any type that implements
the type class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a></code>.</p>
              <div class="example" id="--verso-unique-2379">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-19">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Rational.num" data-verso-hover="1123">num</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Rational.den" data-verso-hover="1124">den</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Rational.inv" data-verso-hover="1125">inv</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="11">den</span><span class="inter-text"> </span><span class="unknown token" data-binding="">≠</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-68">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.474" data-verso-hover="11">n</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-96">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat.ofNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1126">ofNat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational.num" data-verso-hover="1127">num</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.478" data-verso-hover="11">n</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational.den" data-verso-hover="1051">den</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational.inv" data-verso-hover="1128">inv</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-3151501310099984501-142-144-2376"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-142" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3151501310099984501-142-144-2376"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.478" data-verso-hover="11">n</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"></span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><span class="unknown token" data-binding="">1</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ne" data-verso-hover="448">≠</span><span class="inter-text"> </span><span class="unknown token" data-binding="">0</span></span></span></span></span></span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-145-151-2378"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#decide" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.decide-145" data-verso-hover="1129">decide</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-145-151-2378"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-155">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-ToString" data-verso-hover="1112">ToString</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-184">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-ToString.toString" data-verso-hover="1130">toString</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.584" data-verso-hover="1131">r</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-termS!_-206">s!</span><span class="unknown token" data-binding="">"{</span><span class="var token" data-binding="var-_uniq.584" data-verso-hover="1131">r</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Rational.num" data-verso-hover="1123">num</span><span class="unknown token" data-binding="">}/{</span><span class="var token" data-binding="var-_uniq.584" data-verso-hover="1131">r</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Rational.den" data-verso-hover="1124">den</span><span class="unknown token" data-binding="">}"</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">2/1</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-227" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1131">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>2/1</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">2 : Rational</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-256">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1131">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>2 : Rational</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">2 : Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-295">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>2 : Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2379", "structure Rational where\n  num : Int\n  den : Nat\n  inv : den ≠ 0\n\ninstance : OfNat Rational n where\n  ofNat := { num := n, den := 1, inv := by decide }\n\ninstance : ToString Rational where\n  toString r := s!\"{r.num}/{r.den}\"\n\n#eval (2 : Rational)#check (2 : Rational)#check (2 : Nat)");</script>
              <p>
                Lean elaborates the terms <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="typed token" data-binding="" data-verso-hover="1131">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="unknown token" data-binding="">)</span></code> as
<code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">@</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat.ofNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1132">OfNat.ofNat</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-instOfNatNat" data-verso-hover="1133">instOfNatNat</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">)</span></code> and
<code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">@</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat.ofNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1132">OfNat.ofNat</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-instOfNatRational" data-verso-hover="1134">instOfNatRational</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">)</span></code> respectively.
We say the numerals <code>2</code> occurring in the elaborated terms are <em>raw</em> natural numbers.
You can input the raw natural number <code>2</code> using the macro <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-rawNatLit-2" data-verso-hover="1135">nat_lit</span><span class="inter-text"> </span><span class="unknown token" data-binding="">2</span></code>.</p>
              <div class="example" id="--verso-unique-2380">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">2 : Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-0">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-rawNatLit-7" data-verso-hover="1135">nat_lit</span><span class="inter-text"> </span><span class="unknown token" data-binding="">2</span></code><div class="information">
                  <pre>2 : Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2380", "#check nat_lit 2");</script>
              <p>
                Raw natural numbers are <em>not</em> polymorphic.</p>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a></code> instance is parametric on the numeral. So, you can define instances for particular numerals.
The second argument is often a variable as in the example above, or a <em>raw</em> natural number.</p>
              <div class="example" id="--verso-unique-2381">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-0">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Monoid" data-verso-hover="1136">Monoid</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-27">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Monoid.unit" data-verso-hover="1137">unit</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Monoid.op" data-verso-hover="1138">op</span><span class="inter-text">   </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-72">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.129" data-verso-hover="1139">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Monoid" data-verso-hover="1136">Monoid</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.126" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.126" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-rawNatLit-109" data-verso-hover="1135">nat_lit</span><span class="inter-text"> </span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-120">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat.ofNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1140">ofNat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.129" data-verso-hover="1139">s</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Monoid.unit" data-verso-hover="1137">unit</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-145">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-getUnit" data-verso-hover="1141">getUnit</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Monoid" data-verso-hover="1136">Monoid</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.160" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.160" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="typed token" data-binding="" data-verso-hover="24">1</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2381", "class Monoid (α : Type u) where\n  unit : α\n  op   : α → α → α\n\ninstance [s : Monoid α] : OfNat α (nat_lit 1) where\n  ofNat := s.unit\n\ndef getUnit [Monoid α] : α :=\n  1\n");</script>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Output-Parameters">
                10.4. Output Parameters</h2>
              <p>
                By default, Lean only tries to synthesize an instance <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="42">T</span></code> when the term <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.7" data-verso-hover="42">T</span></code> is known and does not
contain missing parts. The following command produces the error
<code>typeclass instance problem is stuck, it is often due to metavariables</code> because the type has a missing part (i.e., the <code>_</code>).</p>
              <div class="example" id="--verso-unique-2382">
                <code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/--
error: typeclass instance problem is stuck, it is often due to metavariables
  Inhabited (Nat × ?m.7)
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-0" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-token.error-123">error</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-0" data-verso-hover="475">in</span></a><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-133" data-verso-hover="18">#eval</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">×</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2382", "/--\nerror: typeclass instance problem is stuck, it is often due to metavariables\n  Inhabited (Nat × ?m.7)\n-/\n#guard_msgs (error) in\n#eval (inferInstance : Inhabited (Nat × _))\n");</script>
              <p>
                You can view the parameter of the type class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a></code> as an <em>input</em> value for the type class synthesizer.
When a type class has multiple parameters, you can mark some of them as <span id="--tech-term-output-parameters" class="def-technical-term"><em>output parameters</em></span>.
Lean will start type class synthesizer even when these parameters have missing parts.
In the following example, we use output parameters to define a <em>heterogeneous</em> polymorphic
multiplication.</p>
              <div class="example" id="--verso-unique-2383">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-v" data-verso-hover="115">v</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#outParam" title="Documentation for outParam in Lean Language Reference"><span class="const token" data-binding="const-outParam" data-verso-hover="1144">outParam</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-w" data-verso-hover="544">w</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-84">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___export" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-117" data-verso-hover="490">export</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-137">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-165">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1081">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___mul" title="Documentation for Nat.mul in Lean Language Reference"><span class="const token" data-binding="const-Nat.mul" data-verso-hover="489">Nat.mul</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-190">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-234">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1146">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.211" data-verso-hover="11">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.214" data-verso-hover="1147">bs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.214" data-verso-hover="1147">bs</span><span class="unknown token" data-binding="">.</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___map" title="Documentation for Array.map in Lean Language Reference"><span class="const token" data-binding="const-Array.map" data-verso-hover="1148">map</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-263">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.226" data-verso-hover="11">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.211" data-verso-hover="11">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.226" data-verso-hover="11">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">12</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-283" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span></code><div class="information">
                  <pre>12</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">#[8, 12, 16]</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-315" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                  <pre>#[8, 12, 16]</pre></div>
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-363" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2383", "namespace Ex\nnamespace Ex\nclass HMul (α : Type u) (β : Type v) (γ : outParam (Type w)) where\n  hMul : α → β → γ\n\nexport HMul (hMul)\n\ninstance : HMul Nat Nat Nat where\n  hMul := Nat.mul\n\ninstance : HMul Nat (Array Nat) (Array Nat) where\n  hMul a bs := bs.map (fun b => hMul a b)\n\n#eval hMul 4 3#eval hMul 4 #[2, 3, 4]end Ex\n");
addToggleButtonToElement("--verso-unique-2383");</script>
              <p>
                The parameters <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span></code> are considered input parameters and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span></code> an output one.
Given an application <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.211" data-verso-hover="11">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.226" data-verso-hover="11">b</span></code>, after the types of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.211" data-verso-hover="11">a</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.226" data-verso-hover="11">b</span></code> are known, the type class
synthesizer is invoked, and the resulting type is obtained from the output parameter <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span></code>.
In the example above, we defined two instances. The first one is the homogeneous
multiplication for natural numbers. The second is the scalar multiplication for arrays.
Note that you chain instances and generalize the second instance.</p>
              <div class="example" id="--verso-unique-2384">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-v" data-verso-hover="115">v</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#outParam" title="Documentation for outParam in Lean Language Reference"><span class="const token" data-binding="const-outParam" data-verso-hover="1144">outParam</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-w" data-verso-hover="544">w</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-84">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___export" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-117" data-verso-hover="490">export</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-137">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-165">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1081">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___mul" title="Documentation for Nat.mul in Lean Language Reference"><span class="const token" data-binding="const-Nat.mul" data-verso-hover="489">Nat.mul</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-190">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-218">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1082">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___mul" title="Documentation for Int.mul in Lean Language Reference"><span class="const token" data-binding="const-Int.mul" data-verso-hover="1149">Int.mul</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-243">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.225" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.232" data-verso-hover="382">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.239" data-verso-hover="999">γ</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.225" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.232" data-verso-hover="382">β</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.239" data-verso-hover="999">γ</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-300">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1150">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.273" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.276" data-verso-hover="1151">bs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.276" data-verso-hover="1151">bs</span><span class="unknown token" data-binding="">.</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___map" title="Documentation for Array.map in Lean Language Reference"><span class="const token" data-binding="const-Array.map" data-verso-hover="1148">map</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-329">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.288" data-verso-hover="47">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.273" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.288" data-verso-hover="47">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">12</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-349" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span></code><div class="information">
                  <pre>12</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">#[8, 12, 16]</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-390" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                  <pre>#[8, 12, 16]</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">#[-6, 2, -8]</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-441" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">-</span><span class="typed token" data-binding="" data-verso-hover="134">2</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="134">3</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">-</span><span class="typed token" data-binding="" data-verso-hover="134">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="134">4</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                  <pre>#[-6, 2, -8]</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">#[#[4, 6], #[0, 8]]</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-492" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">]</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="unknown token" data-binding="">#[</span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">4</span><span class="unknown token" data-binding="">]</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                  <pre>#[#[4, 6], #[0, 8]]</pre></div>
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-556" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2384", "namespace Ex\nnamespace Ex\nclass HMul (α : Type u) (β : Type v) (γ : outParam (Type w)) where\n  hMul : α → β → γ\n\nexport HMul (hMul)\n\ninstance : HMul Nat Nat Nat where\n  hMul := Nat.mul\n\ninstance : HMul Int Int Int where\n  hMul := Int.mul\n\ninstance [HMul α β γ] : HMul α (Array β) (Array γ) where\n  hMul a bs := bs.map (fun b => hMul a b)\n\n#eval hMul 4 3#eval hMul 4 #[2, 3, 4]#eval hMul (-2) #[3, -1, 4]#eval hMul 2 #[#[2, 3], #[0, 4]]end Ex\n");
addToggleButtonToElement("--verso-unique-2384");</script>
              <p>
                You can use our new scalar array multiplication instance on arrays of type <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Arrays/#Array___mk" title="Documentation for Array in Lean Language Reference"><span class="const token" data-binding="const-Array" data-verso-hover="917">Array</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.232" data-verso-hover="382">β</span></code>
with a scalar of type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span></code> whenever you have an instance <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.225" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.232" data-verso-hover="382">β</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.239" data-verso-hover="999">γ</span></code>.
In the last <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">#eval</span></code>, note that the instance was used twice on an array of arrays.</p>
              <p>
                Output parameters are ignored during instance synthesis. Even when instance synthesis occurs in a
context in which the values of output parameters are already determined, their values are ignored.
Once an instance is found using its input parameters, Lean ensures that the already-known values of
the output parameters match those which were found.</p>
              <p>
                Lean also features <span id="--tech-term-semi-output-parameters" class="def-technical-term"><em>semi-output parameters</em></span>, which have some features of input parameters
and some features of output parameters. Like input parameters, semi-output parameters are considered
when selecting instances. Like output parameters, they can be used to instantiate unknown values.
However, they do not do so uniquely. Instance synthesis with semi-output parameters can be more difficult
to predict, because the order in which instances are considered can determine which is selected, but it is
also more flexible.</p>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Default-Instances">
                10.5. Default Instances</h2>
              <p>
                In the class <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span></code>, the parameters <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span></code> are treated as input values.
Thus, type class synthesis only starts after these two types are known. This may often
be too restrictive.</p>
              <div class="example" id="--verso-unique-2385">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-v" data-verso-hover="115">v</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#outParam" title="Documentation for outParam in Lean Language Reference"><span class="const token" data-binding="const-outParam" data-verso-hover="1144">outParam</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-w" data-verso-hover="544">w</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-84">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___export" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-117" data-verso-hover="490">export</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-137">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-165">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1082">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___mul" title="Documentation for Int.mul in Lean Language Reference"><span class="const token" data-binding="const-Int.mul" data-verso-hover="1149">Int.mul</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-190">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.xs" data-verso-hover="1152">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="134">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="134">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="134">3</span><span class="unknown token" data-binding="">]</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/--
error: typeclass instance problem is stuck, it is often due to metavariables
  HMul Int ?m.225 (?m.256 y)
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-222" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-token.error-348">error</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-222" data-verso-hover="475">in</span></a><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-358" data-verso-hover="18">#eval</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-364">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.226" data-verso-hover="1153">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.xs" data-verso-hover="1152">xs</span><span class="unknown token" data-binding="">.</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___map" title="Documentation for List.map in Lean Language Reference"><span class="const token" data-binding="const-List.map" data-verso-hover="566">map</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-381">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.237" data-verso-hover="134">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.237" data-verso-hover="134">x</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.226" data-verso-hover="1153">y</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span></code><div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-407" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2385", "namespace Ex\nnamespace Ex\nclass HMul (α : Type u) (β : Type v) (γ : outParam (Type w)) where\n  hMul : α → β → γ\n\nexport HMul (hMul)\n\ninstance : HMul Int Int Int where\n  hMul := Int.mul\n\ndef xs : List Int := [1, 2, 3]\n\n/--\nerror: typeclass instance problem is stuck, it is often due to metavariables\n  HMul Int ?m.225 (?m.256 y)\n-/\n#guard_msgs (error) in\n#eval fun y => xs.map (fun x => hMul x y)\nend Ex\n");
addToggleButtonToElement("--verso-unique-2385");</script>
              <p>
                The instance <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span></code> is not synthesized by Lean because the type of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.226" data-verso-hover="1153">y</span></code> has not been provided.
However, it is natural to assume that the type of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.226" data-verso-hover="1153">y</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.237" data-verso-hover="134">x</span></code> should be the same in
this kind of situation. We can achieve exactly that using <em>default instances</em>.</p>
              <div class="example" id="--verso-unique-2386">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-v" data-verso-hover="115">v</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#outParam" title="Documentation for outParam in Lean Language Reference"><span class="const token" data-binding="const-outParam" data-verso-hover="1144">outParam</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-w" data-verso-hover="544">w</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-84">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="1143">γ</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___export" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.export-117" data-verso-hover="490">export</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.default_instance-139">default_instance</span></a><span class="unknown token" data-binding="">]</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-157">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-185">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1082">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___mul" title="Documentation for Int.mul in Lean Language Reference"><span class="const token" data-binding="const-Int.mul" data-verso-hover="1149">Int.mul</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-210">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.xs" data-verso-hover="1152">xs</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="134">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="134">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="134">3</span><span class="unknown token" data-binding="">]</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">fun y =&gt; List.map (fun x =&gt; hMul x y) xs : Int → List Int</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-242">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-249">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.224" data-verso-hover="134">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.xs" data-verso-hover="1152">xs</span><span class="unknown token" data-binding="">.</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___map" title="Documentation for List.map in Lean Language Reference"><span class="const token" data-binding="const-List.map" data-verso-hover="566">map</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-266">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.235" data-verso-hover="134">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.235" data-verso-hover="134">x</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.224" data-verso-hover="134">y</span><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>fun y =&gt; List.map (fun x =&gt; hMul x y) xs : Int → List Int</pre></div>
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-356" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2386", "namespace Ex\nnamespace Ex\nclass HMul (α : Type u) (β : Type v) (γ : outParam (Type w)) where\n  hMul : α → β → γ\n\nexport HMul (hMul)\n\n@[default_instance]\ninstance : HMul Int Int Int where\n  hMul := Int.mul\n\ndef xs : List Int := [1, 2, 3]\n\n#check fun y => xs.map (fun x => hMul x y)end Ex\n");
addToggleButtonToElement("--verso-unique-2386");</script>
              <p>
                By tagging the instance above with the attribute <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">[default_instance]</span></code>, we are instructing Lean
to use this instance on pending type class synthesis problems.
The actual Lean implementation defines homogeneous and heterogeneous classes for arithmetical operators.
Moreover, <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.57" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.59" data-verso-hover="47">b</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.360" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.362" data-verso-hover="47">b</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.663" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">-</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.665" data-verso-hover="47">b</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.966" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">/</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.968" data-verso-hover="47">b</span></code>, and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.1269" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">%</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1271" data-verso-hover="47">b</span></code> are notations for the heterogeneous versions.
The instance <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1576" data-verso-hover="11">n</span></code> is the default instance (with priority 100) for the <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a></code> class. This is why the numeral
<code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="11">2</span></code> has type <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code> when the expected type is not known. You can define default instances with higher
priority to override the builtin ones.</p>
              <div class="example" id="--verso-unique-2390">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-19">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Rational.num" data-verso-hover="1123">num</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Rational.den" data-verso-hover="1124">den</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Rational.inv" data-verso-hover="1125">inv</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.7" data-verso-hover="11">den</span><span class="inter-text"> </span><span class="unknown token" data-binding="">≠</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.default_instance-70">default_instance</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">200</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-92">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.474" data-verso-hover="11">n</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-120">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat.ofNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat.ofNat" data-verso-hover="1126">ofNat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational.num" data-verso-hover="1127">num</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.478" data-verso-hover="11">n</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational.den" data-verso-hover="1051">den</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational.inv" data-verso-hover="1128">inv</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-3151501310099984501-166-168-2387"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-166" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3151501310099984501-166-168-2387"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.478" data-verso-hover="11">n</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"></span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><span class="unknown token" data-binding="">1</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ne" data-verso-hover="448">≠</span><span class="inter-text"> </span><span class="unknown token" data-binding="">0</span></span></span></span></span></span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-169-175-2389"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#decide" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.decide-169" data-verso-hover="1129">decide</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-169-175-2389"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-179">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-ToString" data-verso-hover="1112">ToString</span><span class="inter-text"> </span><span class="const token" data-binding="const-Rational" data-verso-hover="1122">Rational</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-208">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-ToString.toString" data-verso-hover="1130">toString</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1131">r</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-termS!_-230">s!</span><span class="unknown token" data-binding="">"{</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1131">r</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Rational.num" data-verso-hover="1123">num</span><span class="unknown token" data-binding="">}/{</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1131">r</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Rational.den" data-verso-hover="1124">den</span><span class="unknown token" data-binding="">}"</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">2 : Rational</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-251">#check</span></a></span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="1131">2</span></code><div class="information">
                  <pre>2 : Rational</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2390", "structure Rational where\n  num : Int\n  den : Nat\n  inv : den ≠ 0\n\n@[default_instance 200]\ninstance : OfNat Rational n where\n  ofNat := { num := n, den := 1, inv := by decide }\n\ninstance : ToString Rational where\n  toString r := s!\"{r.num}/{r.den}\"\n\n#check 2");</script>
              <p>
                Priorities are also useful to control the interaction between different default instances.
For example, suppose <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.26" data-verso-hover="107">xs</span></code> has type <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.44" data-verso-hover="42">α</span></code>. When elaborating <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.69" data-verso-hover="107">xs</span><span class="unknown token" data-binding="">.</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___map" title="Documentation for List.map in Lean Language Reference"><span class="const token" data-binding="const-List.map" data-verso-hover="566">map</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-10">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.96" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="24">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.96" data-verso-hover="24">x</span><span class="unknown token" data-binding="">)</span></code>, we want the homogeneous instance for multiplication
to have higher priority than the default instance for <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Literals/#OfNat___mk" title="Documentation for OfNat in Lean Language Reference"><span class="const token" data-binding="const-OfNat" data-verso-hover="1121">OfNat</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.194" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span></code>. This is particularly important when we have implemented only the instance
<code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul in Lean Language Reference"><span class="const token" data-binding="const-HMul" data-verso-hover="1154">HMul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.222" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.222" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.222" data-verso-hover="42">α</span></code>, and did not implement <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul in Lean Language Reference"><span class="const token" data-binding="const-HMul" data-verso-hover="1154">HMul</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.246" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.246" data-verso-hover="42">α</span></code>.
Now, we reveal how the notation <code>a * b</code> is defined in Lean.</p>
              <div class="example" id="--verso-unique-2391">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-20">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.OfNat" data-verso-hover="1155">OfNat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="11">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-56">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.OfNat.ofNat" data-verso-hover="1156">ofNat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.default_instance-78">default_instance</span></a><span class="unknown token" data-binding="">]</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-96">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.105" data-verso-hover="11">n</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.OfNat" data-verso-hover="1155">OfNat</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.105" data-verso-hover="11">n</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-129">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.OfNat.ofNat" data-verso-hover="1051">ofNat</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.105" data-verso-hover="11">n</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-149">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.125" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.127" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-v" data-verso-hover="115">v</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.130" data-verso-hover="1143">γ</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#outParam" title="Documentation for outParam in Lean Language Reference"><span class="const token" data-binding="const-outParam" data-verso-hover="1144">outParam</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-w" data-verso-hover="544">w</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-213">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1145">hMul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.125" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.127" data-verso-hover="149">β</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.130" data-verso-hover="1143">γ</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-246">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Mul" data-verso-hover="1157">Mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.279" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-270">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.Mul.mul" data-verso-hover="1158">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.279" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.279" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.279" data-verso-hover="42">α</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding="">@[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#Lean___Parser___Attr___default_instance" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Attr.default_instance-304">default_instance</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">10</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-325">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-Ex.Mul" data-verso-hover="1157">Mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.385" data-verso-hover="381">α</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.HMul" data-verso-hover="1142">HMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.385" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.385" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.385" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-359">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Ex.HMul.hMul" data-verso-hover="1159">hMul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.413" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.416" data-verso-hover="24">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="const token" data-binding="const-Ex.Mul.mul" data-verso-hover="1158">Mul.mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.413" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.416" data-verso-hover="24">b</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infixl-392">infixl</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">70</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1160">" * "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">HMul.hMul</span><span class="inter-text">
</span></code><div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-428" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Ex</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2391", "namespace Ex\nnamespace Ex\nclass OfNat (α : Type u) (n : Nat) where\n  ofNat : α\n\n@[default_instance]\ninstance (n : Nat) : OfNat Nat n where\n  ofNat := n\n\nclass HMul (α : Type u) (β : Type v) (γ : outParam (Type w)) where\n  hMul : α → β → γ\n\nclass Mul (α : Type u) where\n  mul : α → α → α\n\n@[default_instance 10]\ninstance [Mul α] : HMul α α α where\n  hMul a b := Mul.mul a b\n\ninfixl:70 \" * \" => HMul.hMul\nend Ex\n");
addToggleButtonToElement("--verso-unique-2391");</script>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Ex.Mul" data-verso-hover="1157">Mul</span></code> class is convenient for types that only implement the homogeneous multiplication.</p>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Local-Instances">
                10.6. Local Instances</h2>
              <p>
                Type classes are implemented using attributes in Lean. Thus, you can
use the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">local</span></code> modifier to indicate that they only have effect until
the current <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">section</span></code> or <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">namespace</span></code> is closed, or until the end
of the current file.</p>
              <div class="example" id="--verso-unique-2392">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-16">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___section" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.section-43" data-verso-hover="94">section</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.local-52">local</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-52">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-79">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add.add in Lean Language Reference"><span class="const token" data-binding="const-Add.add" data-verso-hover="1164">add</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1051">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1051">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-134">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-double" data-verso-hover="1166">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-169" data-verso-hover="95">end</span><span class="inter-text"> -- instance `Add Point` is not active anymore

</span></code><code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/--
error: failed to synthesize
  HAdd Point Point ?m.627

Additional diagnostic information may be available using
the `set_option diagnostics true` command.
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-220" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-220" data-verso-hover="475">in</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-397">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-triple" data-verso-hover="1167">triple</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">p</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2392", "structure Point where\n  x : Nat\n  y : Nat\n\nsection\n\nlocal instance : Add Point where\n  add a b := { x := a.x + b.x, y := a.y + b.y }\n\ndef double (p : Point) :=\n  p + p\n\nend -- instance `Add Point` is not active anymore\n\n/--\nerror: failed to synthesize\n  HAdd Point Point ?m.627\n\nAdditional diagnostic information may be available using\nthe `set_option diagnostics true` command.\n-/\n#guard_msgs in\ndef triple (p : Point) :=\n  p + p + p\n");</script>
              <p>
                You can also temporarily disable an instance using the <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">attribute</span></code> command
until the current <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">section</span></code> or <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">namespace</span></code> is closed, or until the end
of the current file.</p>
              <div class="example" id="--verso-unique-2393">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-16">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-43">instance</span><span class="inter-text"> </span><span class="const token" data-binding="const-addPoint" data-verso-hover="1168">addPoint</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-73">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add.add in Lean Language Reference"><span class="const token" data-binding="const-Add.add" data-verso-hover="1164">add</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1051">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1051">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-128">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-double" data-verso-hover="1166">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Attributes/#Lean___Parser___Command___attribute" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.attribute-163">attribute</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">-</span><span class="unknown token" data-binding="">instance</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="const token" data-binding="const-addPoint" data-verso-hover="1168">addPoint</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/--
error: failed to synthesize
  HAdd Point Point ?m.627

Additional diagnostic information may be available using the `set_option diagnostics true` command.
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-195" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-195" data-verso-hover="475">in</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-372">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-triple" data-verso-hover="1167">triple</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">p</span><span class="inter-text">  -- Error: failed to synthesize instance
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2393", "structure Point where\n  x : Nat\n  y : Nat\n\ninstance addPoint : Add Point where\n  add a b := { x := a.x + b.x, y := a.y + b.y }\n\ndef double (p : Point) :=\n  p + p\n\nattribute [-instance] addPoint\n\n/--\nerror: failed to synthesize\n  HAdd Point Point ?m.627\n\nAdditional diagnostic information may be available using the `set_option diagnostics true` command.\n-/\n#guard_msgs in\ndef triple (p : Point) :=\n  p + p + p  -- Error: failed to synthesize instance\n");</script>
              <p>
                We recommend you only use this command to diagnose problems.</p>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Scoped-Instances">
                10.7. Scoped Instances</h2>
              <p>
                You can also declare scoped instances in namespaces. This kind of instance is
only active when you are inside of the namespace or open the namespace.</p>
              <div class="example" id="--verso-unique-2394">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-16">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-43" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.scoped-60">scoped</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-60">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-88">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add.add in Lean Language Reference"><span class="const token" data-binding="const-Add.add" data-verso-hover="1164">add</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1051">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1051">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-143">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.double" data-verso-hover="1169">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-178" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="inter-text">-- instance `Add Point` is not active anymore

</span><span class="doc-comment token" data-binding="">/--
error: failed to synthesize
  HAdd Point Point ?m.622

Additional diagnostic information may be available using the `set_option diagnostics true` command.
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-235" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-token.error-410">error</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-235" data-verso-hover="475">in</span></a><span class="inter-text">
</span><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">fun p =&gt; sorry : (p : Point) → ?m.668 p</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-420">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-427">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">p</span></code><div class="information">
                  <pre>fun p =&gt; sorry : (p : Point) → ?m.668 p</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-457" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="inter-text">-- instance `Add Point` is active again
</span><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">fun p =&gt; p + p + p : Point → Point</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-513">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-520">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.674" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.674" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.674" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.674" data-verso-hover="1165">p</span></code><div class="information">
                  <pre>fun p =&gt; p + p + p : Point → Point</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-550" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___open" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.open-561" data-verso-hover="101">open</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text"> -- activates instance `Add Point`
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">fun p =&gt; p + p + p : Point → Point</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-606">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-613">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.748" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.748" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.748" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">p</span></code><div class="information">
                  <pre>fun p =&gt; p + p + p : Point → Point</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2394", "structure Point where\n  x : Nat\n  y : Nat\n\nnamespace Point\n\nscoped instance : Add Point where\n  add a b := { x := a.x + b.x, y := a.y + b.y }\n\ndef double (p : Point) :=\n  p + p\n\nend Point\n-- instance `Add Point` is not active anymore\n\n/--\nerror: failed to synthesize\n  HAdd Point Point ?m.622\n\nAdditional diagnostic information may be available using the `set_option diagnostics true` command.\n-/\n#guard_msgs (error) in\n#check fun (p : Point) => p + p + pnamespace Point\n-- instance `Add Point` is active again\n#check fun (p : Point) => p + p + pend Point\n\nopen Point -- activates instance `Add Point`\n#check fun (p : Point) => p + p + p");</script>
              <p>
                You can use the command <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">open scoped</span></code><code> &lt;namespace&gt;</code> to activate scoped attributes but will
not “open” the names from the namespace.</p>
              <div class="example" id="--verso-unique-2395">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-16">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-43" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.scoped-60">scoped</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-60">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-88">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add.add in Lean Language Reference"><span class="const token" data-binding="const-Add.add" data-verso-hover="1164">add</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.x" data-verso-hover="1051">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.x" data-verso-hover="1162">x</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.y" data-verso-hover="1051">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.415" data-verso-hover="1165">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="1165">b</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Point.y" data-verso-hover="1163">y</span><span class="inter-text"> </span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-143">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point.double" data-verso-hover="1169">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.495" data-verso-hover="1165">p</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-178" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___open" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.open-189" data-verso-hover="101">open</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___openScoped" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.openScoped-194">scoped</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Point</span><span class="inter-text"> -- activates instance `Add Point`
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">fun p =&gt; p + p + p : Point → Point</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-241">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-248">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.549" data-verso-hover="1165">p</span></code><div class="information">
                  <pre>fun p =&gt; p + p + p : Point → Point</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/--
error: unknown identifier 'double'
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-278" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-token.error-333">error</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-278" data-verso-hover="475">in</span></a><span class="inter-text">
</span><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">fun p =&gt; sorry : (p : Point) → ?m.627 p</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-343">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-350">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.623" data-verso-hover="1165">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Point" data-verso-hover="1161">Point</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">double</span><span class="inter-text"> </span><span class="unknown token" data-binding="">p</span></code><div class="information">
                  <pre>fun p =&gt; sorry : (p : Point) → ?m.627 p</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2395", "structure Point where\n  x : Nat\n  y : Nat\n\nnamespace Point\n\nscoped instance : Add Point where\n  add a b := { x := a.x + b.x, y := a.y + b.y }\n\ndef double (p : Point) :=\n  p + p\n\nend Point\n\nopen scoped Point -- activates instance `Add Point`\n#check fun (p : Point) => p + p + p/--\nerror: unknown identifier 'double'\n-/\n#guard_msgs (error) in\n#check fun (p : Point) => double p");</script>
              </section>
            <section>
              <h2 id="decidable-propositions">
                10.8. Decidable Propositions<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&amp;name=decidable-propositions" title="Permalink">🔗</a></span></h2>
              <p>
                Let us consider another example of a type class defined in the
standard library, namely the type class of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code>
propositions. Roughly speaking, an element of <code class="hl lean inline" data-lean-context="examples"><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span></code> is said to be
decidable if we can decide whether it is true or false. The
distinction is only useful in constructive mathematics; classically,
every proposition is decidable. But if we use the classical principle,
say, to define a function by cases, that function will not be
computable. Algorithmically speaking, the <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code> type class can
be used to infer a procedure that effectively determines whether or
not the proposition is true. As a result, the type class supports such
computational definitions when they are possible while at the same
time allowing a smooth transition to the use of classical definitions
and classical reasoning.</p>
              <p>
                In the standard library, <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code> is defined formally as follows:</p>
              <div class="example" id="--verso-unique-2396">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-group-24">class</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-group-24">inductive</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.Decidable" data-verso-hover="1171">Decidable</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-61">where</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.Decidable.isFalse" data-verso-hover="1172">isFalse</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.9" data-verso-hover="176">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">¬</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.Decidable" data-verso-hover="1171">Decidable</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="unknown token" data-binding="">isTrue</span><span class="inter-text">  </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="4">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="unknown token" data-binding="">)</span><span class="inter-text">  </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.Decidable" data-verso-hover="1171">Decidable</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="inter-text">
</span></code><div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-145" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2396", "namespace Hidden\nnamespace Hidden\nclass inductive Decidable (p : Prop) where\n  | isFalse (h : ¬p) : Decidable p\n  | isTrue  (h : p)  : Decidable p\nend Hidden\n");
addToggleButtonToElement("--verso-unique-2396");</script>
              <p>
                Logically speaking, having an element <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.34" data-verso-hover="1173">t</span><span class="inter-text"> : </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="1">p</span></code> is stronger
than having an element <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.77" data-verso-hover="1174">t'</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.73" data-verso-hover="1">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∨</span><span class="inter-text"> </span><span class="unknown token" data-binding="">¬</span><span class="var token" data-binding="var-_uniq.73" data-verso-hover="1">p</span></code>; it enables us to define values
of an arbitrary type depending on the truth value of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.94" data-verso-hover="1">p</span></code>. For
example, for the expression <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-2" data-verso-hover="56">if</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.114" data-verso-hover="1">p</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-2" data-verso-hover="56">then</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.120" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">else</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.122" data-verso-hover="24">b</span></code> to make sense, we
need to know that <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.140" data-verso-hover="1">p</span></code> is decidable. That expression is syntactic
sugar for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-ite" data-verso-hover="447">ite</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.168" data-verso-hover="1">p</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.166" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.168" data-verso-hover="1">b</span></code>, where <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-ite" data-verso-hover="447">ite</span></code> is defined as follows:</p>
              <div class="example" id="--verso-unique-2397">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-24">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.ite" data-verso-hover="1175">ite</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-112978979043057490" data-verso-hover="38">Sort</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1176">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">c</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="24">t</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.10" data-verso-hover="24">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1176">h</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Decidable.casesOn" data-verso-hover="1177">casesOn</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">motive</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-125">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-139">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.10" data-verso-hover="24">e</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-152">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="24">t</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span></code><div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-171" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2397", "namespace Hidden\nnamespace Hidden\ndef ite {α : Sort u}\n    (c : Prop) [h : Decidable c]\n    (t e : α) : α :=\n  h.casesOn (motive := fun _ => α) (fun _ => e) (fun _ => t)\nend Hidden\n");
addToggleButtonToElement("--verso-unique-2397");</script>
              <p>
                The standard library also contains a variant of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Hidden.ite" data-verso-hover="1175">ite</span></code> called
<code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Hidden.dite" data-verso-hover="1178">dite</span></code>, the dependent if-then-else expression. It is defined as
follows:</p>
              <div class="example" id="--verso-unique-2398">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-24">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.dite" data-verso-hover="1178">dite</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-112978979043057490" data-verso-hover="38">Sort</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">}</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1176">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">c</span><span class="unknown token" data-binding="">]</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.10" data-verso-hover="1179">t</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="1180">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#Not" title="Documentation for Not in Lean Language Reference"><span class="const token" data-binding="const-Not" data-verso-hover="140">Not</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Decidable.casesOn" data-verso-hover="1177">Decidable.casesOn</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">motive</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-157">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="590">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1176">h</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="1180">e</span><span class="inter-text"> </span><span class="unknown token" data-binding="">t</span><span class="inter-text">
</span></code><div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-183" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2398", "namespace Hidden\nnamespace Hidden\ndef dite {α : Sort u}\n    (c : Prop) [h : Decidable c]\n    (t : c → α) (e : Not c → α) : α :=\n  Decidable.casesOn (motive := fun _ => α) h e t\nend Hidden\n");
addToggleButtonToElement("--verso-unique-2398");</script>
              <p>
                That is, in <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-dite" data-verso-hover="1181">dite</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.38" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.44" data-verso-hover="1179">t</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.48" data-verso-hover="1180">e</span></code>, we can assume <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.88" data-verso-hover="1182">hc</span><span class="inter-text"> : </span><span class="var token" data-binding="var-_uniq.103" data-verso-hover="1">c</span></code> in the “then”
branch, and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.143" data-verso-hover="1183">hnc</span><span class="inter-text"> : </span><span class="unknown token" data-binding="">¬</span><span class="var token" data-binding="var-_uniq.157" data-verso-hover="1">c</span></code> in the “else” branch. To make <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-dite" data-verso-hover="1181">dite</span></code> more
convenient to use, Lean allows us to write <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termDepIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-41" data-verso-hover="899">if</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.37" data-verso-hover="1182">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="1">c</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termDepIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-41" data-verso-hover="899">then</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.14" data-verso-hover="24">t</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termDepIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termDepIfThenElse-41" data-verso-hover="899">else</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">e</span></code>
instead of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-dite" data-verso-hover="1181">dite</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.215" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-10">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.234" data-verso-hover="1182">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.215" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.221" data-verso-hover="1179">t</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.234" data-verso-hover="1182">h</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-29">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.238" data-verso-hover="1183">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">¬</span><span class="var token" data-binding="var-_uniq.215" data-verso-hover="1">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.225" data-verso-hover="1180">e</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.238" data-verso-hover="1183">h</span><span class="unknown token" data-binding="">)</span></code>.</p>
              <p>
                Without classical logic, we cannot prove that every proposition is
decidable. But we can prove that <em>certain</em> propositions are
decidable. For example, we can prove the decidability of basic
operations like equality and comparisons on the natural numbers and
the integers. Moreover, decidability is preserved under propositional
connectives:</p>
              <div class="example" id="--verso-unique-2399">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@instDecidableAnd : {p q : Prop} → [dp : Decidable p] → [dq : Decidable q] → Decidable (p ∧ q)</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-0">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-instDecidableAnd" data-verso-hover="1184">instDecidableAnd</span></code><div class="information">
                  <pre>@instDecidableAnd : {p q : Prop} → [dp : Decidable p] → [dq : Decidable q] → Decidable (p ∧ q)</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@instDecidableOr : {p q : Prop} → [dp : Decidable p] → [dq : Decidable q] → Decidable (p ∨ q)</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-132">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-instDecidableOr" data-verso-hover="1185">instDecidableOr</span></code><div class="information">
                  <pre>@instDecidableOr : {p q : Prop} → [dp : Decidable p] → [dq : Decidable q] → Decidable (p ∨ q)</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@instDecidableNot : {p : Prop} → [dp : Decidable p] → Decidable ¬p</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-156">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">instDecidableNot</span></code><div class="information">
                  <pre>@instDecidableNot : {p : Prop} → [dp : Decidable p] → Decidable ¬p</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2399", "#check @instDecidableAnd#check @instDecidableOr#check @instDecidableNot");</script>
              <p>
                Thus we can carry out definitions by cases on decidable predicates on
the natural numbers:</p>
              <div class="example" id="--verso-unique-2400">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-0">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-step" data-verso-hover="1186">step</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="11">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="11">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="11">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-34" data-verso-hover="56">if</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="11">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="11">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∨</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="11">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="11">b</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-34" data-verso-hover="56">then</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-34" data-verso-hover="56">else</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.set_option-68" data-verso-hover="146">set_option</span><span class="inter-text"> </span><span class="option token" data-binding="option-pp.explicit" data-verso-hover="290">pp.explicit</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.set_option-68" data-verso-hover="146">true</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">def step : Nat → Nat → Nat → Nat :=
fun a b x =&gt;
  @ite Nat (Or (@LT.lt Nat instLTNat x a) (@GT.gt Nat instLTNat x b))
    (@instDecidableOr (@LT.lt Nat instLTNat x a) (@GT.gt Nat instLTNat x b) (x.decLt a) (b.decLt x))
    (@OfNat.ofNat Nat (nat_lit 0) (instOfNatNat (nat_lit 0))) (@OfNat.ofNat Nat (nat_lit 1) (instOfNatNat (nat_lit 1)))</code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.print-96">#print</span></span><span class="inter-text"> </span><span class="unknown token" data-binding="">step</span></code><div class="information">
                  <pre>def step : Nat → Nat → Nat → Nat :=
fun a b x =&gt;
  @ite Nat (Or (@LT.lt Nat instLTNat x a) (@GT.gt Nat instLTNat x b))
    (@instDecidableOr (@LT.lt Nat instLTNat x a) (@GT.gt Nat instLTNat x b) (x.decLt a) (b.decLt x))
    (@OfNat.ofNat Nat (nat_lit 0) (instOfNatNat (nat_lit 0))) (@OfNat.ofNat Nat (nat_lit 1) (instOfNatNat (nat_lit 1)))</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2400", "def step (a b x : Nat) : Nat :=\n  if x < a ∨ x > b then 0 else 1\n\nset_option pp.explicit true\n#print step");</script>
              <p>
                Turning on implicit arguments shows that the elaborator has inferred
the decidability of the proposition <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="11">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="11">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∨</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="11">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="11">b</span></code>, simply by
applying appropriate instances.</p>
              <p>
                With the classical axioms, we can prove that every proposition is
decidable. You can import the classical axioms and make the generic
instance of decidability available by opening the <code>Classical</code> namespace.</p>
              <div class="example" id="--verso-unique-2401">
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___open" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.open-0" data-verso-hover="101">open</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Classical</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2401", "open Classical\n");</script>
              <p>
                Thereafter <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">p</span></code> has an instance for every <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">p</span></code>.
Thus all theorems in the library
that rely on decidability assumptions are freely available when you
want to reason classically. In <a href="Axioms-and-Computation/#axioms-and-computation">Axioms and Computation</a>,
we will see that using the law of the
excluded middle to define functions can prevent them from being used
computationally. Thus, the standard library assigns a low priority to
the <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Classical.propDecidable" data-verso-hover="1187">propDecidable</span></code> instance.</p>
              <div class="example" id="--verso-unique-2402">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___namespace" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namespace-0" data-verso-hover="96">namespace</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Namespaces-and-Sections/#Lean___Parser___Command___open" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.open-24" data-verso-hover="101">open</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">Classical</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.noncomputable-39">noncomputable</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.scoped-53">scoped</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-53">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namedPrio-69">priority</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#prioLow" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-prioLow-82" data-verso-hover="911">low</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-Hidden.propDecidable" data-verso-hover="1188">propDecidable</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Classical.choice" data-verso-hover="1189">choice</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;|</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Pattern-Matching/#Lean___Parser___Term___match" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.match-141" data-verso-hover="297">match</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Classical.em" data-verso-hover="186">em</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Pattern-Matching/#Lean___Parser___Term___match" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.match-141" data-verso-hover="297">with</span></a><span class="inter-text">
    </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#Or___inl" title="Documentation for Or.inl in Lean Language Reference"><span class="const token" data-binding="const-Or.inl" data-verso-hover="175">Or.inl</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="89">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable.isTrue in Lean Language Reference"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1190">isTrue</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="89">h</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#Or___inl" title="Documentation for Or.inr in Lean Language Reference"><span class="const token" data-binding="const-Or.inr" data-verso-hover="174">Or.inr</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.45" data-verso-hover="1191">h</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">⟨</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable.isFalse in Lean Language Reference"><span class="const token" data-binding="const-Decidable.isFalse" data-verso-hover="1192">isFalse</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.45" data-verso-hover="1191">h</span><span class="unknown token" data-binding="">⟩</span><span class="inter-text">
</span></code><div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.end-231" data-verso-hover="95">end</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Hidden</span><span class="inter-text">
</span><span class="unknown token" data-binding=""></span></code></div>
                </div>
              <script>
                addCopyButtonToElement("--verso-unique-2402", "namespace Hidden\nnamespace Hidden\nopen Classical\nnoncomputable scoped\ninstance (priority := low) propDecidable (a : Prop) : Decidable a :=\n  choice <| match em a with\n    | Or.inl h => ⟨isTrue h⟩\n    | Or.inr h => ⟨isFalse h⟩\nend Hidden\n");
addToggleButtonToElement("--verso-unique-2402");</script>
              <p>
                This guarantees that Lean will favor other instances and fall back on
<code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Hidden.propDecidable" data-verso-hover="1188">propDecidable</span></code> only after other attempts to infer decidability have
failed.</p>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code> type class also provides a bit of small-scale
automation for proving theorems. The standard library introduces the
tactic <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">decide</span></code> that uses the <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code> instance to solve simple goals,
as well as a function <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___decide" title="Documentation for Decidable.decide in Lean Language Reference"><span class="const token" data-binding="const-Decidable.decide" data-verso-hover="1193">decide</span></a></code> that uses a <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code> instance to compute the
corresponding <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a></code>.</p>
              <div class="example" id="--verso-unique-2415">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-0">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">10</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&lt;</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">5</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∨</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">&gt;</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">0</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7375240230440497621-30-32-2403"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-30" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7375240230440497621-30-32-2403"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><span class="unknown token" data-binding="">10</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#LT___mk" title="Documentation for LT.lt in Lean Language Reference"><span class="const token" data-binding="const-LT.lt" data-verso-hover="452">&lt;</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">5</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#Or___inl" title="Documentation for Or in Lean Language Reference"><span class="const token" data-binding="const-Or" data-verso-hover="139">∨</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">1</span><span class="inter-text"> </span><span class="const token" data-binding="const-GT.gt" data-verso-hover="790">&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">0</span></span></span></span></span></span><span class="inter-text">
  </span><span class="tactic"><label for="tactic-state-7-35-41-2405"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#decide" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.decide-35" data-verso-hover="1129">decide</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-35-41-2405"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-43">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">¬</span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#True___intro" title="Documentation for True in Lean Language Reference"><span class="const token" data-binding="const-True" data-verso-hover="39">True</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">∧</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#False" title="Documentation for False in Lean Language Reference"><span class="const token" data-binding="const-False" data-verso-hover="153">False</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-13848989193779707558-75-77-2406"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-75" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-13848989193779707558-75-77-2406"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#Not" title="Documentation for Not in Lean Language Reference"><span class="const token" data-binding="const-Not" data-verso-hover="140">¬</span></a><span class="inter-text"></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#And___intro" title="Documentation for And in Lean Language Reference"><span class="const token" data-binding="const-And" data-verso-hover="138">(</span></a><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#True___intro" title="Documentation for True in Lean Language Reference"><span class="const token" data-binding="const-True" data-verso-hover="39">True</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#And___intro" title="Documentation for And in Lean Language Reference"><span class="const token" data-binding="const-And" data-verso-hover="138">∧</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#False" title="Documentation for False in Lean Language Reference"><span class="const token" data-binding="const-False" data-verso-hover="153">False</span></a><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#And___intro" title="Documentation for And in Lean Language Reference"><span class="const token" data-binding="const-And" data-verso-hover="138">)</span></a></span></span></span></span></span><span class="inter-text">
  </span><span class="tactic"><label for="tactic-state-7-80-86-2408"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#decide" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.decide-80" data-verso-hover="1129">decide</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-80-86-2408"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-88">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">10</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">20</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">200</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-3717782806882822539-115-117-2409"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-115" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-3717782806882822539-115-117-2409"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><span class="unknown token" data-binding="">10</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">20</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Propositional-Equality/#Eq___refl" title="Documentation for Eq in Lean Language Reference"><span class="const token" data-binding="const-Eq" data-verso-hover="253">=</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">200</span></span></span></span></span></span><span class="inter-text">
  </span><span class="tactic"><label for="tactic-state-7-120-126-2411"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#decide" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.decide-120" data-verso-hover="1129">decide</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-120-126-2411"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-128">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-ex" data-verso-hover="1194">ex</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#True___intro" title="Documentation for True in Lean Language Reference"><span class="const token" data-binding="const-True" data-verso-hover="39">True</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">∧</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-8101304174683639169-163-165-2412"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-163" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-8101304174683639169-163-165-2412"><span class="tactic-state"><span class="goal"><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#True___intro" title="Documentation for True in Lean Language Reference"><span class="const token" data-binding="const-True" data-verso-hover="39">True</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Logical-Connectives/#And___intro" title="Documentation for And in Lean Language Reference"><span class="const token" data-binding="const-And" data-verso-hover="138">∧</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">2</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Propositional-Equality/#Eq___refl" title="Documentation for Eq in Lean Language Reference"><span class="const token" data-binding="const-Eq" data-verso-hover="253">=</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">1</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HAdd___mk" title="Documentation for HAdd.hAdd in Lean Language Reference"><span class="const token" data-binding="const-HAdd.hAdd" data-verso-hover="254">+</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">1</span></span></span></span></span></span><span class="inter-text">
  </span><span class="tactic"><label for="tactic-state-7-168-174-2414"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#decide" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.decide-168" data-verso-hover="1129">decide</span></a></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-168-174-2414"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">theorem ex : True ∧ 2 = 1 + 1 :=
of_decide_eq_true (id (Eq.refl true))</code></span></span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.print-176">#print</span></span><span class="inter-text"> </span><span class="const token" data-binding="const-ex" data-verso-hover="1194">ex</span></code><div class="information">
                  <pre>theorem ex : True ∧ 2 = 1 + 1 :=
of_decide_eq_true (id (Eq.refl true))</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@of_decide_eq_true : ∀ {p : Prop} [inst : Decidable p], decide p = true → p</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-187">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="const token" data-binding="const-of_decide_eq_true" data-verso-hover="1195">of_decide_eq_true</span></code><div class="information">
                  <pre>@of_decide_eq_true : ∀ {p : Prop} [inst : Decidable p], decide p = true → p</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">decide : (p : Prop) → [h : Decidable p] → Bool</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-297">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">decide</span></code><div class="information">
                  <pre>decide : (p : Prop) → [h : Decidable p] → Bool</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2415", "example : 10 < 5 ∨ 1 > 0 := by\n  decide\n\nexample : ¬(True ∧ False) := by\n  decide\n\nexample : 10 * 20 = 200 := by\n  decide\n\ntheorem ex : True ∧ 2 = 1 + 1 := by\n  decide\n\n#print ex#check @of_decide_eq_true#check @decide");</script>
              <p>
                They work as follows. The expression <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___decide" title="Documentation for Decidable.decide in Lean Language Reference"><span class="const token" data-binding="const-Decidable.decide" data-verso-hover="1193">decide</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">p</span></code> tries to infer a
decision procedure for <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">p</span></code>, and, if it is successful, evaluates to
either <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a></code> or <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.false in Lean Language Reference"><span class="const token" data-binding="const-Bool.false" data-verso-hover="17">false</span></a></code>. In particular, if <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.4" data-verso-hover="1">p</span></code> is a true closed
expression, <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___decide" title="Documentation for Decidable.decide in Lean Language Reference"><span class="const token" data-binding="const-Decidable.decide" data-verso-hover="1193">decide</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="1">p</span></code> will reduce definitionally to the Boolean <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a></code>.
On the assumption that <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___decide" title="Documentation for Decidable.decide in Lean Language Reference"><span class="const token" data-binding="const-Decidable.decide" data-verso-hover="1193">decide</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="1">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a></code> holds, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-of_decide_eq_true" data-verso-hover="1195">of_decide_eq_true</span></code>
produces a proof of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.350" data-verso-hover="1">p</span></code>. The tactic <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">decide</span></code> puts it all together to
prove a target <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.354" data-verso-hover="1">p</span></code>. By the previous observations,
<code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">decide</span></code> will succeed any time the inferred decision procedure
 for <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.358" data-verso-hover="1">p</span></code> has enough information to evaluate, definitionally, to the <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable.isTrue in Lean Language Reference"><span class="const token" data-binding="const-Decidable.isTrue" data-verso-hover="1190">isTrue</span></a></code> case.</p>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Managing-Type-Class-Inference">
                10.9. Managing Type Class Inference</h2>
              <p>
                If you are ever in a situation where you need to supply an expression
that Lean can infer by type class inference, you can ask Lean to carry
out the inference using <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a></code>:</p>
              <div class="example" id="--verso-unique-2416">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-0">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-foo" data-verso-hover="1196">foo</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-35">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-bar" data-verso-hover="1197">bar</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@inferInstance : {α : Sort u_1} → [i : α] → α</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-87">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">inferInstance</span></code><div class="information">
                  <pre>@inferInstance : {α : Sort u_1} → [i : α] → α</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2416", "def foo : Add Nat := inferInstance\ndef bar : Inhabited (Nat → Nat) := inferInstance\n\n#check @inferInstance");</script>
              <p>
                In fact, you can use Lean's <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.12" data-verso-hover="133">t</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.10" data-verso-hover="1198">T</span><span class="unknown token" data-binding="">)</span></code> notation to specify the class whose instance you are looking for,
in a concise manner:</p>
              <div class="example" id="--verso-unique-2417">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">inferInstance : Add Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-0">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>inferInstance : Add Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2417", "#check (inferInstance : Add Nat)");</script>
              <p>
                You can also use the auxiliary definition <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstanceAs" title="Documentation for inferInstanceAs in Lean Language Reference"><span class="const token" data-binding="const-inferInstanceAs" data-verso-hover="1199">inferInstanceAs</span></a></code>:</p>
              <div class="example" id="--verso-unique-2418">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">inferInstanceAs (Add Nat) : Add Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-0">#check</span></a></span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstanceAs" title="Documentation for inferInstanceAs in Lean Language Reference"><span class="const token" data-binding="const-inferInstanceAs" data-verso-hover="1199">inferInstanceAs</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Add___mk" title="Documentation for Add in Lean Language Reference"><span class="const token" data-binding="const-Add" data-verso-hover="575">Add</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="unknown token" data-binding="">)</span></code><div class="information">
                  <pre>inferInstanceAs (Add Nat) : Add Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">inferInstanceAs : (α : Sort u_1) → [i : α] → α</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-34">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">inferInstanceAs</span></code><div class="information">
                  <pre>inferInstanceAs : (α : Sort u_1) → [i : α] → α</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2418", "#check inferInstanceAs (Add Nat)#check @inferInstanceAs");</script>
              <p>
                Sometimes Lean can't find an instance because the class is buried
under a definition. For example, Lean cannot
find an instance of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span></code>. We can declare one
explicitly:</p>
              <div class="example" id="--verso-unique-2419">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-0">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/--
error: failed to synthesize
  Inhabited (Set α)

Additional diagnostic information may be available using
the `set_option diagnostics true` command.
-/</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-38" data-verso-hover="475">#guard_msgs</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___guardMsgsCmd" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.guardMsgsCmd-38" data-verso-hover="475">in</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-210">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.20" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstance" title="Documentation for inferInstance in Lean Language Reference"><span class="const token" data-binding="const-inferInstance" data-verso-hover="1108">inferInstance</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-259">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.44" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#inferInstanceAs" title="Documentation for inferInstanceAs in Lean Language Reference"><span class="const token" data-binding="const-inferInstanceAs" data-verso-hover="1199">inferInstanceAs</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Inhabited___mk" title="Documentation for Inhabited in Lean Language Reference"><span class="const token" data-binding="const-Inhabited" data-verso-hover="663">Inhabited</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.49" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2419", "def Set (α : Type u) := α → Prop\n\n/--\nerror: failed to synthesize\n  Inhabited (Set α)\n\nAdditional diagnostic information may be available using\nthe `set_option diagnostics true` command.\n-/\n#guard_msgs in\nexample : Inhabited (Set α) :=\n  inferInstance\n\ninstance : Inhabited (Set α) :=\n  inferInstanceAs (Inhabited (α → Prop))\n");</script>
              <p>
                At times, you may find that the type class inference fails to find an
expected instance, or, worse, falls into an infinite loop and times
out. To help debug in these situations, Lean enables you to request a
trace of the search:</p>
              <div class="example" id="--verso-unique-2420">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.set_option-0" data-verso-hover="146">set_option</span><span class="inter-text"> </span><span class="option token" data-binding="option-trace.Meta.synthInstance" data-verso-hover="1201">trace.Meta.synthInstance</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.set_option-0" data-verso-hover="146">true</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2420", "set_option trace.Meta.synthInstance true\n");</script>
              <p>
                If you are using VS Code, you can read the results by hovering over
the relevant theorem or definition, or opening the messages window
with <kbd><code>Ctrl</code><code>Shift</code><code>Enter</code></kbd>.</p>
              <p>
                You can also limit the search using the following options:</p>
              <div class="example" id="--verso-unique-2421">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.set_option-0" data-verso-hover="146">set_option</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Synthesis/#synthInstance___maxHeartbeats" title="Documentation for option synthInstance.maxHeartbeats in Lean Language Reference"><span class="option token" data-binding="option-synthInstance.maxHeartbeats" data-verso-hover="1202">synthInstance.maxHeartbeats</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">10000</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.set_option-45" data-verso-hover="146">set_option</span><span class="inter-text"> </span><span class="unknown token" data-binding="">synthInstance.maxSize</span><span class="inter-text"> </span><span class="unknown token" data-binding="">400</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2421", "set_option synthInstance.maxHeartbeats 10000\nset_option synthInstance.maxSize 400\n");</script>
              <p>
                Option <code>synthInstance.maxHeartbeats</code> specifies the maximum amount of
heartbeats per typeclass resolution problem. A heartbeat is the number of
(small) memory allocations (in thousands), 0 means there is no limit.
Option <code>synthInstance.maxSize</code> is the maximum number of instances used
to construct a solution in the type class instance synthesis procedure.</p>
              <p>
                Remember also that in both the VS Code and Emacs editor modes, tab
completion works in <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">set_option</span></code>, to help you find suitable options.</p>
              <p>
                As noted above, the type class instances in a given context represent
a Prolog-like program, which gives rise to a backtracking search. Both
the efficiency of the program and the solutions that are found can
depend on the order in which the system tries the instance. Instances
which are declared last are tried first. Moreover, if instances are
declared in other modules, the order in which they are tried depends
on the order in which namespaces are opened. Instances declared in
namespaces which are opened later are tried earlier.</p>
              <p>
                You can change the order that type class instances are tried by
assigning them a <em>priority</em>. When an instance is declared, it is
assigned a default priority value. You can assign other priorities
when defining an instance. The following example illustrates how this
is done:</p>
              <div class="example" id="--verso-unique-2422">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.classTk-0">class</span><span class="inter-text"> </span><span class="const token" data-binding="const-Foo" data-verso-hover="166">Foo</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-10">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.a" data-verso-hover="1203">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.b" data-verso-hover="1204">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-37">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namedPrio-46">priority</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#prioDefault" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-prioDefault-59" data-verso-hover="1205">default</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">1</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-i1" data-verso-hover="1206">i1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Foo" data-verso-hover="166">Foo</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-81">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.a" data-verso-hover="1051">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.b" data-verso-hover="1051">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-106">instance</span><span class="inter-text"> </span><span class="const token" data-binding="const-i2" data-verso-hover="1207">i2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Foo" data-verso-hover="166">Foo</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-124">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.a" data-verso-hover="1051">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.b" data-verso-hover="1051">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-149">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Foo.a" data-verso-hover="1203">Foo.a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Propositional-Equality/#rfl-next" title="Documentation for rfl in Lean Language Reference"><span class="const token" data-binding="const-rfl" data-verso-hover="224">rfl</span></a><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-179">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.namedPrio-188">priority</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Instance-Declarations/#prioDefault" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-prioDefault-201" data-verso-hover="1205">default</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">+</span><span class="inter-text"> </span><span class="unknown token" data-binding="">2</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="const token" data-binding="const-i3" data-verso-hover="1208">i3</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Foo" data-verso-hover="166">Foo</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-223">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.a" data-verso-hover="1051">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Foo.b" data-verso-hover="1051">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-248">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Foo.a" data-verso-hover="1203">Foo.a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">rfl</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2422", "class Foo where\n  a : Nat\n  b : Nat\n\ninstance (priority := default + 1) i1 : Foo where\n  a := 1\n  b := 1\n\ninstance i2 : Foo where\n  a := 2\n  b := 2\n\nexample : Foo.a = 1 :=\n  rfl\n\ninstance (priority := default + 2) i3 : Foo where\n  a := 3\n  b := 3\n\nexample : Foo.a = 3 :=\n  rfl\n");</script>
              </section>
            <section>
              <h2 id="Theorem-Proving-in-Lean-4--Type-Classes--Coercions-using-Type-Classes">
                10.10. Coercions using Type Classes</h2>
              <p>
                The most basic type of coercion maps elements of one type to another. For example, a coercion from <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code> to <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a></code> allows us to view any element <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.44" data-verso-hover="11">n</span><span class="inter-text"> : </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a></code> as an element of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Integers/#Int___ofNat" title="Documentation for Int in Lean Language Reference"><span class="const token" data-binding="const-Int" data-verso-hover="135">Int</span></a></code>. But some coercions depend on parameters; for example, for any type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.68" data-verso-hover="42">α</span></code>, we can view any element <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.78" data-verso-hover="107">as</span><span class="inter-text"> : </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.85" data-verso-hover="42">α</span></code> as an element of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.93" data-verso-hover="42">α</span></code>, namely, the set of elements occurring in the list. The corresponding coercion is defined on the “family” of types <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.101" data-verso-hover="42">α</span></code>, parameterized by <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.109" data-verso-hover="42">α</span></code>.</p>
              <p>
                Lean allows us to declare three kinds of coercions:</p>
              <ul>
                <li>
                  <p>
                    from a family of types to another family of types</p>
                  </li>
                <li>
                  <p>
                    from a family of types to the class of sorts</p>
                  </li>
                <li>
                  <p>
                    from a family of types to the class of function types</p>
                  </li>
                </ul>
              <p>
                The first kind of coercion allows us to view any element of a member of the source family as an element of a corresponding member of the target family. The second kind of coercion allows us to view any element of a member of the source family as a type. The third kind of coercion allows us to view any element of the source family as a function. Let us consider each of these in turn.</p>
              <p>
                In Lean, coercions are implemented on top of the type class resolution framework. We define a coercion from <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.10" data-verso-hover="42">α</span></code> to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.20" data-verso-hover="149">β</span></code> by declaring an instance of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe in Lean Language Reference"><span class="const token" data-binding="const-Coe" data-verso-hover="1209">Coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.28" data-verso-hover="149">β</span></code>. For example, we can define a coercion from <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a></code> to <code class="hl lean inline" data-lean-context="examples"><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span></code> as follows:</p>
              <div class="example" id="--verso-unique-2423">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-0">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe in Lean Language Reference"><span class="const token" data-binding="const-Coe" data-verso-hover="1209">Coe</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-25">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe.coe in Lean Language Reference"><span class="const token" data-binding="const-Coe.coe" data-verso-hover="1210">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="55">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="55">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2423", "instance : Coe Bool Prop where\n  coe b := b = true\n");</script>
              <p>
                This enables us to use boolean terms in <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">if</span></code>-<code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">then</span></code>-<code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">else</span></code> expressions:</p>
              <div class="example" id="--verso-unique-2424">
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">5</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-0" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-6" data-verso-hover="56">if</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.true in Lean Language Reference"><span class="const token" data-binding="const-Bool.true" data-verso-hover="15">true</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-6" data-verso-hover="56">then</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">5</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-6" data-verso-hover="56">else</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span></code><div class="information">
                  <pre>5</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">3</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___eval" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-29" data-verso-hover="18">#eval</span></a></span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-35" data-verso-hover="56">if</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool.false in Lean Language Reference"><span class="const token" data-binding="const-Bool.false" data-verso-hover="17">false</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-35" data-verso-hover="56">then</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">5</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Terms/Conditionals/#termIfThenElse" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-termIfThenElse-35" data-verso-hover="56">else</span></a><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span></code><div class="information">
                  <pre>3</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2424", "#eval if true then 5 else 3#eval if false then 5 else 3");</script>
              <p>
                We can define a coercion from <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.85" data-verso-hover="42">α</span></code> to <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3203" data-verso-hover="381">α</span></code> as follows:</p>
              <div class="example" id="--verso-unique-2425">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-0">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-37">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.empty" data-verso-hover="1211">Set.empty</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-77">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#False" title="Documentation for False in Lean Language Reference"><span class="const token" data-binding="const-False" data-verso-hover="153">False</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-92">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.mem" data-verso-hover="1212">Set.mem</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.33" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="1213">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="1213">s</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.33" data-verso-hover="24">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-140">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.singleton" data-verso-hover="1214">Set.singleton</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-179">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.63" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.63" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="24">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-194">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.union" data-verso-hover="1215">Set.union</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.77" data-verso-hover="1213">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.80" data-verso-hover="1213">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-235">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.77" data-verso-hover="1213">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∨</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.80" data-verso-hover="1213">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="24">x</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Notations-and-Macros/Notations/#Lean___Parser___Command___notation" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.notation-256">notation</span></a><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1216">"{ "</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.172" data-verso-hover="328">a</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1217">" }"</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.singleton" data-verso-hover="1214">Set.singleton</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.172" data-verso-hover="328">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infix-296">infix</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">55</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1218">" ∪ "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.union" data-verso-hover="1215">Set.union</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-333">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.toSet" data-verso-hover="1219">List.toSet</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3203" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3203" data-verso-hover="381">α</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">]</span><span class="inter-text">    </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.empty" data-verso-hover="1211">Set.empty</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3251" data-verso-hover="24">a</span><span class="unknown token" data-binding="">::</span><span class="var token" data-binding="var-_uniq.3252" data-verso-hover="107">as</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.3251" data-verso-hover="24">a</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∪</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3252" data-verso-hover="107">as</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-List.toSet" data-verso-hover="1219">toSet</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-423">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe in Lean Language Reference"><span class="const token" data-binding="const-Coe" data-verso-hover="1209">Coe</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3453" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3453" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-457">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe.coe in Lean Language Reference"><span class="const token" data-binding="const-Coe.coe" data-verso-hover="1220">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3472" data-verso-hover="107">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3472" data-verso-hover="107">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-List.toSet" data-verso-hover="1219">toSet</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-483">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-s" data-verso-hover="1221">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">s ∪ [2, 3].toSet : Set Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-507">#check</span></a></span><span class="inter-text"> </span><span class="const token" data-binding="const-s" data-verso-hover="1221">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∪</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">]</span></code><div class="information">
                  <pre>s ∪ [2, 3].toSet : Set Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2425", "def Set (α : Type u) := α → Prop\ndef Set.empty {α : Type u} : Set α := fun _ => False\ndef Set.mem (a : α) (s : Set α) : Prop := s a\ndef Set.singleton (a : α) : Set α := fun x => x = a\ndef Set.union (a b : Set α) : Set α := fun x => a x ∨ b x\nnotation \"{ \" a \" }\" => Set.singleton a\ninfix:55 \" ∪ \" => Set.union\ndef Set (α : Type u) := α → Prop\ndef Set.empty {α : Type u} : Set α := fun _ => False\ndef Set.mem (a : α) (s : Set α) : Prop := s a\ndef Set.singleton (a : α) : Set α := fun x => x = a\ndef Set.union (a b : Set α) : Set α := fun x => a x ∨ b x\nnotation \"{ \" a \" }\" => Set.singleton a\ninfix:55 \" ∪ \" => Set.union\ndef List.toSet : List α → Set α\n  | []    => Set.empty\n  | a::as => {a} ∪ as.toSet\n\ninstance : Coe (List α) (Set α) where\n  coe a := a.toSet\n\ndef s : Set Nat := {1}\n\n#check s ∪ [2, 3]");
addToggleButtonToElement("--verso-unique-2425");</script>
              <p>
                We can use the notation <code>↑</code> to force a coercion to be introduced in a particular place. It is also helpful to make our intent clear, and work around limitations of the coercion resolution system.</p>
              <div class="example" id="--verso-unique-2426">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-0">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-37">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.empty" data-verso-hover="1211">Set.empty</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.16" data-verso-hover="42">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-77">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Truth/#False" title="Documentation for False in Lean Language Reference"><span class="const token" data-binding="const-False" data-verso-hover="153">False</span></a><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-92">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.mem" data-verso-hover="1212">Set.mem</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.33" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="1213">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.31" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.36" data-verso-hover="1213">s</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.33" data-verso-hover="24">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-140">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.singleton" data-verso-hover="1214">Set.singleton</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="24">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.51" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-179">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.63" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.63" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.53" data-verso-hover="24">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-194">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.union" data-verso-hover="1215">Set.union</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.77" data-verso-hover="1213">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.80" data-verso-hover="1213">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.74" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-235">fun</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.77" data-verso-hover="1213">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="24">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∨</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.80" data-verso-hover="1213">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.92" data-verso-hover="24">x</span><span class="inter-text">
</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Notations-and-Macros/Notations/#Lean___Parser___Command___notation" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.notation-256">notation</span></a><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1216">"{ "</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.172" data-verso-hover="328">a</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1217">" }"</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.singleton" data-verso-hover="1214">Set.singleton</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.172" data-verso-hover="328">a</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.infix-296">infix</span><span class="unknown token" data-binding="">:</span><span class="unknown token" data-binding="">55</span><span class="inter-text"> </span><span class="literal string token" data-binding="" data-verso-hover="1218">" ∪ "</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.union" data-verso-hover="1215">Set.union</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-326">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-List.toSet" data-verso-hover="1219">List.toSet</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3203" data-verso-hover="381">α</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3203" data-verso-hover="381">α</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">]</span><span class="inter-text">    </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set.empty" data-verso-hover="1211">Set.empty</span><span class="inter-text">
  </span><span class="unknown token" data-binding="">|</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3251" data-verso-hover="24">a</span><span class="unknown token" data-binding="">::</span><span class="var token" data-binding="var-_uniq.3252" data-verso-hover="107">as</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.3251" data-verso-hover="24">a</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∪</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3252" data-verso-hover="107">as</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-List.toSet" data-verso-hover="1219">toSet</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-415">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe in Lean Language Reference"><span class="const token" data-binding="const-Coe" data-verso-hover="1209">Coe</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Linked-Lists/#List___nil" title="Documentation for List in Lean Language Reference"><span class="const token" data-binding="const-List" data-verso-hover="30">List</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3453" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3453" data-verso-hover="381">α</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-449">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe.coe in Lean Language Reference"><span class="const token" data-binding="const-Coe.coe" data-verso-hover="1220">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3472" data-verso-hover="107">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3472" data-verso-hover="107">a</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-List.toSet" data-verso-hover="1219">toSet</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-481">def</span><span class="inter-text"> </span><span class="const token" data-binding="const-s" data-verso-hover="1221">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Set" data-verso-hover="1200">Set</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Natural-Numbers/#Nat___zero" title="Documentation for Nat in Lean Language Reference"><span class="const token" data-binding="const-Nat" data-verso-hover="10">Nat</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="typed token" data-binding="" data-verso-hover="11">1</span><span class="unknown token" data-binding="">}</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">let x := [2, 3].toSet;
s ∪ x : Set Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-505">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-512" data-verso-hover="83">let</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3537" data-verso-hover="1222">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">↑</span><span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">]</span><span class="unknown token" data-binding="">;</span><span class="inter-text"> </span><span class="const token" data-binding="const-s" data-verso-hover="1221">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∪</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3537" data-verso-hover="1222">x</span></code><div class="information">
                  <pre>let x := [2, 3].toSet;
s ∪ x : Set Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">let x := [2, 3];
s ∪ x.toSet : Set Nat</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-585">#check</span></a></span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.let-592" data-verso-hover="83">let</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3920" data-verso-hover="168">x</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="11">2</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="typed token" data-binding="" data-verso-hover="11">3</span><span class="unknown token" data-binding="">]</span><span class="unknown token" data-binding="">;</span><span class="inter-text"> </span><span class="const token" data-binding="const-s" data-verso-hover="1221">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∪</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.3920" data-verso-hover="168">x</span></code><div class="information">
                  <pre>let x := [2, 3];
s ∪ x.toSet : Set Nat</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2426", "def Set (α : Type u) := α → Prop\ndef Set.empty {α : Type u} : Set α := fun _ => False\ndef Set.mem (a : α) (s : Set α) : Prop := s a\ndef Set.singleton (a : α) : Set α := fun x => x = a\ndef Set.union (a b : Set α) : Set α := fun x => a x ∨ b x\nnotation \"{ \" a \" }\" => Set.singleton a\ninfix:55 \" ∪ \" => Set.union\ndef List.toSet : List α → Set α\n  | []    => Set.empty\n  | a::as => {a} ∪ as.toSet\ninstance : Coe (List α) (Set α) where\n  coe a := a.toSet\ndef Set (α : Type u) := α → Prop\ndef Set.empty {α : Type u} : Set α := fun _ => False\ndef Set.mem (a : α) (s : Set α) : Prop := s a\ndef Set.singleton (a : α) : Set α := fun x => x = a\ndef Set.union (a b : Set α) : Set α := fun x => a x ∨ b x\nnotation \"{ \" a \" }\" => Set.singleton a\ninfix:55 \" ∪ \" => Set.union\ndef List.toSet : List α → Set α\n  | []    => Set.empty\n  | a::as => {a} ∪ as.toSet\ninstance : Coe (List α) (Set α) where\n  coe a := a.toSet\ndef s : Set Nat := {1}\n\n#check let x := ↑[2, 3]; s ∪ x#check let x := [2, 3]; s ∪ x");
addToggleButtonToElement("--verso-unique-2426");</script>
              <p>
                Lean also supports dependent coercions using the type class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-Between-Types/#CoeDep___mk" title="Documentation for CoeDep in Lean Language Reference"><span class="const token" data-binding="const-CoeDep" data-verso-hover="1223">CoeDep</span></a></code>. For example, we cannot coerce arbitrary propositions to <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Types/Booleans/#Bool___false" title="Documentation for Bool in Lean Language Reference"><span class="const token" data-binding="const-Bool" data-verso-hover="14">Bool</span></a></code>, only the ones that implement the <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a></code> typeclass.</p>
              <div class="example" id="--verso-unique-2427">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-0">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___isFalse" title="Documentation for Decidable in Lean Language Reference"><span class="const token" data-binding="const-Decidable" data-verso-hover="1170">Decidable</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="unknown token" data-binding="">]</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-Between-Types/#CoeDep___mk" title="Documentation for CoeDep in Lean Language Reference"><span class="const token" data-binding="const-CoeDep" data-verso-hover="1223">CoeDep</span></a><span class="inter-text"> </span><span class="sort token" data-binding="sort-14430969920833713138" data-verso-hover="2">Prop</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="inter-text"> </span><span class="unknown token" data-binding="">Bool</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-55">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-Between-Types/#CoeDep___mk" title="Documentation for CoeDep.coe in Lean Language Reference"><span class="const token" data-binding="const-CoeDep.coe" data-verso-hover="1224">coe</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Decidable___decide" title="Documentation for Decidable.decide in Lean Language Reference"><span class="const token" data-binding="const-Decidable.decide" data-verso-hover="1193">decide</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.2" data-verso-hover="1">p</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2427", "instance (p : Prop) [Decidable p] : CoeDep Prop p Bool where\n  coe := decide p\n");</script>
              <p>
                Lean will also chain (non-dependent) coercions as necessary. Actually, the type class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-Between-Types/#CoeT___mk" title="Documentation for CoeT in Lean Language Reference"><span class="const token" data-binding="const-CoeT" data-verso-hover="1225">CoeT</span></a></code> is the transitive closure of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe in Lean Language Reference"><span class="const token" data-binding="const-Coe" data-verso-hover="1209">Coe</span></a></code>.</p>
              <p>
                Let us now consider the second kind of coercion. By the <em>class of sorts</em>, we mean the collection of universes <code class="hl lean inline" data-lean-context="examples"><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span></code>. A coercion of the second kind is of the form:</p>
              <pre>    c : (x1 : A1) → ... → (xn : An) → F x1 ... xn → Type u
</pre><p>
                where <code>F</code> is a family of types as above. This allows us to write <code>s : t</code> whenever <code>t</code> is of type <code>F a₁ ... aₙ</code>. In other words, the coercion allows us to view the elements of <code>F a₁ ... aₙ</code> as types. This is very useful when defining algebraic structures in which one component, the carrier of the structure, is a <code class="hl lean inline" data-lean-context="examples"><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span></code>. For example, we can define a semigroup as follows:</p>
              <div class="example" id="--verso-unique-2428">
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-20">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul_assoc" data-verso-hover="653">mul_assoc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-152">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul in Lean Language Reference"><span class="const token" data-binding="const-Mul" data-verso-hover="1227">Mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-193">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul.mul in Lean Language Reference"><span class="const token" data-binding="const-Mul.mul" data-verso-hover="1228">mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2428", "structure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\n\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\n");</script>
              <p>
                In other words, a semigroup consists of a type, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span></code>, and a multiplication, <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span></code>, with the property that the multiplication is associative. The <code class="hl lean inline" data-lean-context="examples"><span class="keyword token" data-binding="">instance</span></code> command allows us to write <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.673" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.676" data-verso-hover="1229">b</span></code> instead of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">Semigroup.mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.723" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.726" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.729" data-verso-hover="1229">b</span></code> whenever we have <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.736" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.750" data-verso-hover="1229">b</span><span class="inter-text"> : </span><span class="var token" data-binding="var-_uniq.755" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span></code>; notice that Lean can infer the argument <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.755" data-verso-hover="1226">S</span></code> from the types of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.736" data-verso-hover="1229">a</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.750" data-verso-hover="1229">b</span></code>. The function <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">Semigroup.carrier</span></code> maps the class <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span></code> to the sort <code class="hl lean inline" data-lean-context="examples"><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span></code>:</p>
              <div class="example" id="--verso-unique-2429">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-20">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul_assoc" data-verso-hover="653">mul_assoc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-151">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul in Lean Language Reference"><span class="const token" data-binding="const-Mul" data-verso-hover="1227">Mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-192">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul.mul in Lean Language Reference"><span class="const token" data-binding="const-Mul.mul" data-verso-hover="1228">mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">Semigroup.carrier.{u} (self : Semigroup) : Type u</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-228">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">Semigroup.carrier</span></code><div class="information">
                  <pre>Semigroup.carrier.{u} (self : Semigroup) : Type u</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2429", "structure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\nstructure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\n#check Semigroup.carrier");
addToggleButtonToElement("--verso-unique-2429");</script>
              <p>
                If we declare this function to be a coercion, then whenever we have a semigroup <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.776" data-verso-hover="1226">S</span><span class="inter-text"> : </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span></code>, we can write <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.799" data-verso-hover="1229">a</span><span class="inter-text"> : </span><span class="var token" data-binding="var-_uniq.818" data-verso-hover="1226">S</span></code> instead of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.830" data-verso-hover="1229">a</span><span class="inter-text"> : </span><span class="var token" data-binding="var-_uniq.838" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span></code>:</p>
              <div class="example" id="--verso-unique-2430">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-20">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul_assoc" data-verso-hover="653">mul_assoc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-151">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul in Lean Language Reference"><span class="const token" data-binding="const-Mul" data-verso-hover="1227">Mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-192">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul.mul in Lean Language Reference"><span class="const token" data-binding="const-Mul.mul" data-verso-hover="1228">mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-228">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort in Lean Language Reference"><span class="const token" data-binding="const-CoeSort" data-verso-hover="1230">CoeSort</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-266">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort.coe in Lean Language Reference"><span class="const token" data-binding="const-CoeSort.coe" data-verso-hover="1231">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.638" data-verso-hover="1226">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.638" data-verso-hover="1226">s</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-294">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.666" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.678" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.690" data-verso-hover="1229">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.666" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.678" data-verso-hover="1229">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.690" data-verso-hover="1229">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.666" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.678" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.690" data-verso-hover="1229">c</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul_assoc" data-verso-hover="653">Semigroup.mul_assoc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.666" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.678" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">c</span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2430", "structure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\nstructure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\ninstance : CoeSort Semigroup (Type u) where\n  coe s := s.carrier\n\nexample (S : Semigroup) (a b c : S) : (a * b) * c = a * (b * c) :=\n  Semigroup.mul_assoc _ a b c\n");
addToggleButtonToElement("--verso-unique-2430");</script>
              <p>
                It is the coercion that makes it possible to write <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.666" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.678" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.690" data-verso-hover="1229">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">)</span></code>. Note that, we define an instance of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort in Lean Language Reference"><span class="const token" data-binding="const-CoeSort" data-verso-hover="1230">CoeSort</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span></code> instead of <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/#Coe___mk" title="Documentation for Coe in Lean Language Reference"><span class="const token" data-binding="const-Coe" data-verso-hover="1209">Coe</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span></code>.</p>
              <p>
                By the <em>class of function types</em>, we mean the collection of Pi types <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.10" data-verso-hover="1232">z</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.6" data-verso-hover="42">B</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.8" data-verso-hover="149">C</span></code>. The third kind of coercion has the form:</p>
              <pre>    c : (x₁ : A₁) → ... → (xₙ : Aₙ) → (y : F x₁ ... xₙ) → (z : B) → C
</pre><p>
                where <code>F</code> is again a family of types and <code>B</code> and <code>C</code> can depend on <code>x₁, ..., xₙ, y</code>. This makes it possible to write <code>t s</code> whenever <code>t</code> is an element of <code>F a₁ ... aₙ</code>. In other words, the coercion enables us to view elements of <code>F a₁ ... aₙ</code> as functions. Continuing the example above, we can define the notion of a morphism between semigroups <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span></code> and <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.655" data-verso-hover="1226">S2</span></code>. That is, a function from the carrier of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span></code> to the carrier of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.655" data-verso-hover="1226">S2</span></code> (note the implicit coercion) that respects the multiplication. The projection <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">Morphism.mor</span></code> takes a morphism to the underlying function:</p>
              <div class="example" id="--verso-unique-2431">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-20">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul_assoc" data-verso-hover="653">mul_assoc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-151">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul in Lean Language Reference"><span class="const token" data-binding="const-Mul" data-verso-hover="1227">Mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-192">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul.mul in Lean Language Reference"><span class="const token" data-binding="const-Mul.mul" data-verso-hover="1228">mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-221">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort in Lean Language Reference"><span class="const token" data-binding="const-CoeSort" data-verso-hover="1230">CoeSort</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-259">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort.coe in Lean Language Reference"><span class="const token" data-binding="const-CoeSort.coe" data-verso-hover="1231">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.638" data-verso-hover="1226">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.638" data-verso-hover="1226">s</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-293">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.655" data-verso-hover="1226">S2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-332">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.655" data-verso-hover="1226">S2</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Morphism.resp_mul" data-verso-hover="1235">resp_mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∀</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.702" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="1236">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.688" data-verso-hover="1237">mor</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.702" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="1236">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.688" data-verso-hover="1237">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.702" data-verso-hover="1236">a</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.688" data-verso-hover="1237">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="1236">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">@Morphism.mor : {S1 : Semigroup} → {S2 : Semigroup} → Morphism S1 S2 → S1.carrier → S2.carrier</code></span></span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Interacting-with-Lean/#Lean___Parser___Command___check" title="Documentation for syntax in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-416">#check</span></a></span><span class="inter-text"> </span><span class="unknown token" data-binding="">@</span><span class="unknown token" data-binding="">Morphism.mor</span></code><div class="information">
                  <pre>@Morphism.mor : {S1 : Semigroup} → {S2 : Semigroup} → Morphism S1 S2 → S1.carrier → S2.carrier</pre></div>
                <code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2431", "structure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\ninstance : CoeSort Semigroup (Type u) where\n  coe s := s.carrier\nstructure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\ninstance : CoeSort Semigroup (Type u) where\n  coe s := s.carrier\nstructure Morphism (S1 S2 : Semigroup) where\n  mor : S1 → S2\n  resp_mul : ∀ a b : S1, mor (a * b) = (mor a) * (mor b)\n\n#check @Morphism.mor");
addToggleButtonToElement("--verso-unique-2431");</script>
              <p>
                As a result, it is a prime candidate for the third type of coercion.</p>
              <div class="example" id="--verso-unique-2438">
                <div class="hidden">
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-0">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-20">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Semigroup.mul_assoc" data-verso-hover="653">mul_assoc</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.5" data-verso-hover="42">carrier</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.13" data-verso-hover="654">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.11" data-verso-hover="655">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.15" data-verso-hover="654">b</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.17" data-verso-hover="654">c</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-151">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul in Lean Language Reference"><span class="const token" data-binding="const-Mul" data-verso-hover="1227">Mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-192">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#Mul___mk" title="Documentation for Mul.mul in Lean Language Reference"><span class="const token" data-binding="const-Mul.mul" data-verso-hover="1228">mul</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.585" data-verso-hover="1226">S</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.mul" data-verso-hover="652">mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.602" data-verso-hover="1229">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.605" data-verso-hover="1229">b</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-221">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort in Lean Language Reference"><span class="const token" data-binding="const-CoeSort" data-verso-hover="1230">CoeSort</span></a><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="sort token" data-binding="sort-7243200735919010059" data-verso-hover="26">Type</span><span class="inter-text"> </span><span class="level-var token" data-binding="level-var-u" data-verso-hover="43">u</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-259">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort.coe in Lean Language Reference"><span class="const token" data-binding="const-CoeSort.coe" data-verso-hover="1231">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.638" data-verso-hover="1226">s</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.638" data-verso-hover="1226">s</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span><span class="inter-text">
</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.structureTk-286">structure</span><span class="inter-text"> </span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.655" data-verso-hover="1226">S2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-null-325">where</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.655" data-verso-hover="1226">S2</span><span class="inter-text">
  </span><span class="const token" data-binding="const-Morphism.resp_mul" data-verso-hover="1235">resp_mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="unknown token" data-binding="">∀</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.702" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="1236">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.652" data-verso-hover="1226">S1</span><span class="unknown token" data-binding="">,</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.688" data-verso-hover="1237">mor</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.702" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="1236">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.688" data-verso-hover="1237">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.702" data-verso-hover="1236">a</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.688" data-verso-hover="1237">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.714" data-verso-hover="1236">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
</span></code></div>
                <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-415">instance</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1266" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1269" data-verso-hover="1226">S2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
    </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Function-Types/#CoeFun___mk" title="Documentation for CoeFun in Lean Language Reference"><span class="const token" data-binding="const-CoeFun" data-verso-hover="1238">CoeFun</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1266" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1269" data-verso-hover="1226">S2</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-475">fun</span><span class="inter-text"> </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=&gt;</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1266" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="unknown token" data-binding="">→</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1269" data-verso-hover="1226">S2</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-495">where</span><span class="inter-text">
  </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Function-Types/#CoeFun___mk" title="Documentation for CoeFun.coe in Lean Language Reference"><span class="const token" data-binding="const-CoeFun.coe" data-verso-hover="1239">coe</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1334" data-verso-hover="1240">m</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1334" data-verso-hover="1240">m</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.theorem-519">theorem</span><span class="inter-text"> </span><span class="const token" data-binding="const-resp_mul" data-verso-hover="1241">resp_mul</span><span class="inter-text"> </span><span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.1376" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1379" data-verso-hover="1226">S2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">}</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1383" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1376" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1379" data-verso-hover="1226">S2</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1397" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1409" data-verso-hover="1236">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1376" data-verso-hover="1226">S1</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
        </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1383" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1397" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1409" data-verso-hover="1236">b</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1383" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1397" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1383" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1409" data-verso-hover="1236">b</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="var token" data-binding="var-_uniq.1383" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.resp_mul" data-verso-hover="1235">resp_mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1397" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1409" data-verso-hover="1236">b</span><span class="inter-text">

</span></code><code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.example-641">example</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1595" data-verso-hover="1226">S2</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1595" data-verso-hover="1226">S2</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:</span><span class="inter-text">
      </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text">
  </span><span class="keyword token" data-binding="kw-occ-Lean.calc-744" data-verso-hover="251">calc</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="unknown token" data-binding="">)</span><span class="inter-text">
    </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="unknown token" data-binding="">)</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-15578951111231932554-790-792-2432"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-790" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-15578951111231932554-790-792-2432"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"></span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1595" data-verso-hover="1226">S2</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"></span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1595" data-verso-hover="1226">S2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="inter-text"></span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"></span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">(</span></a><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">)</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Propositional-Equality/#Eq___refl" title="Documentation for Eq in Lean Language Reference"><span class="const token" data-binding="const-Eq" data-verso-hover="253">=</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">(</span></a><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">)</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span></span></span></span></span></span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-793-808-2434"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#rw" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-793" data-verso-hover="255">rw</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-resp_mul" data-verso-hover="1241">resp_mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-793-808-2434"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
    </span><span class="unknown token" data-binding="">_</span><span class="inter-text"> </span><span class="unknown token" data-binding="">=</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">:=</span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-9753914216973801280-836-838-2435"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.byTactic-836" data-verso-hover="252">by</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-9753914216973801280-836-838-2435"><span class="tactic-state"><span class="goal"><span class="hypotheses"><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"></span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1595" data-verso-hover="1226">S2</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="const token" data-binding="const-Semigroup" data-verso-hover="650">Semigroup</span><span class="inter-text"></span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1595" data-verso-hover="1226">S2</span></span></span><span class="hypothesis"><span class="name"><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span></span><span class="colon">:</span><span class="type"><span class="inter-text"></span><span class="var token" data-binding="var-_uniq.1592" data-verso-hover="1226">S1</span><span class="inter-text"></span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Semigroup.carrier" data-verso-hover="651">carrier</span></span></span></span><span class="conclusion"><span class="prefix">⊢ </span><span class="type"><span class="inter-text"></span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"></span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">(</span></a><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">)</span></a><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Basic-Propositions/Propositional-Equality/#Eq___refl" title="Documentation for Eq in Lean Language Reference"><span class="const token" data-binding="const-Eq" data-verso-hover="253">=</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span></span></span></span></span></span><span class="inter-text"> </span><span class="tactic"><label for="tactic-state-7-839-854-2437"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Tactic-Proofs/Tactic-Reference/#rw" title="Documentation for tactic in Lean Language Reference"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Tactic.rwSeq-839" data-verso-hover="255">rw</span></a><span class="inter-text"> </span><span class="unknown token" data-binding="">[</span><span class="const token" data-binding="const-resp_mul" data-verso-hover="1241">resp_mul</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">]</span></label><input type="checkbox" class="tactic-toggle" id="tactic-state-7-839-854-2437"><span class="tactic-state">All goals completed! 🐙</span></span><span class="inter-text">
</span></code><code class="hl lean block" data-lean-context="examples"><span class="unknown token" data-binding=""></span></code></div>
              <script>
                addCopyButtonToElement("--verso-unique-2438", "structure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\ninstance : CoeSort Semigroup (Type u) where\n  coe s := s.carrier\nstructure Morphism (S1 S2 : Semigroup) where\n  mor : S1 → S2\n  resp_mul : ∀ a b : S1, mor (a * b) = (mor a) * (mor b)\nstructure Semigroup where\n  carrier : Type u\n  mul : carrier → carrier → carrier\n  mul_assoc (a b c : carrier) : mul (mul a b) c = mul a (mul b c)\ninstance (S : Semigroup) : Mul S.carrier where\n  mul a b := S.mul a b\ninstance : CoeSort Semigroup (Type u) where\n  coe s := s.carrier\nstructure Morphism (S1 S2 : Semigroup) where\n  mor : S1 → S2\n  resp_mul : ∀ a b : S1, mor (a * b) = (mor a) * (mor b)\ninstance (S1 S2 : Semigroup) :\n    CoeFun (Morphism S1 S2) (fun _ => S1 → S2) where\n  coe m := m.mor\n\ntheorem resp_mul {S1 S2 : Semigroup} (f : Morphism S1 S2) (a b : S1)\n        : f (a * b) = f a * f b :=\n  f.resp_mul a b\n\nexample (S1 S2 : Semigroup) (f : Morphism S1 S2) (a : S1) :\n      f (a * a * a) = f a * f a * f a :=\n  calc f (a * a * a)\n    _ = f (a * a) * f a := by rw [resp_mul f]\n    _ = f a * f a * f a := by rw [resp_mul f]\n");
addToggleButtonToElement("--verso-unique-2438");</script>
              <p>
                With the coercion in place, we can write <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="inter-text"> </span><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><span class="unknown token" data-binding="">*</span><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="unknown token" data-binding="">)</span></code> instead of <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding=""></span><span class="var token" data-binding="var-_uniq.1599" data-verso-hover="1240">f</span><span class="unknown token" data-binding="">.</span><span class="const token" data-binding="const-Morphism.mor" data-verso-hover="1234">mor</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">(</span></a><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><span class="inter-text"> </span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">*</span></a><span class="inter-text"> </span><span class="var token" data-binding="var-_uniq.1613" data-verso-hover="1236">a</span><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Type-Classes/Basic-Classes/#HMul___mk" title="Documentation for HMul.hMul in Lean Language Reference"><span class="const token" data-binding="const-HMul.hMul" data-verso-hover="269">)</span></a></code>. When the <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-Morphism" data-verso-hover="1233">Morphism</span></code>, <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.1383" data-verso-hover="1240">f</span></code>, is used where a function is expected, Lean inserts the coercion. Similar to <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Sorts/#CoeSort___mk" title="Documentation for CoeSort in Lean Language Reference"><span class="const token" data-binding="const-CoeSort" data-verso-hover="1230">CoeSort</span></a></code>, we have yet another class <code class="hl lean inline" data-lean-context="examples"><a href="https://lean-lang.org/doc/reference/4.21.0-rc3/Coercions/Coercing-to-Function-Types/#CoeFun___mk" title="Documentation for CoeFun in Lean Language Reference"><span class="const token" data-binding="const-CoeFun" data-verso-hover="1238">CoeFun</span></a></code> for this class of coercions. The parameter <code>γ</code> is used to specify the function type we are coercing to. This type may depend on the type we are coercing from.
</p>
              </section>
            </section>
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Structures-and-Records/#structures-and-records" rel="prev" title="9. Structures and Records"><span class="arrow">←</span><span class="where">9. Structures and Records</span></a><a class="local-button active" href="The-Conversion-Tactic-Mode/#conv" rel="next" title="11. The Conversion Tactic Mode"><span class="where">11. The Conversion Tactic Mode</span><span class="arrow">→</span></a></nav>
          </div>
        </main></div>
    </body>
  </html>

